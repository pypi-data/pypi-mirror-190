import{d as N,al as Q,Y as x,c as p,aN as C,a0 as I,aG as R,an as q,a as o,w as n,a2 as i,a3 as P,Z as S,o as s,u as e,aO as V,f as u,aP as m,b as d,aQ as B,aR as W,aS as Y,aT as Z,aw as $,aK as j,aU as z}from"./index-9441189f-553defe4.js";import{u as F}from"./useToast-6d532d68.js";import{u as G}from"./usePageTitle-a2a21432.js";import"./index-cf364cca.js";import{r as J}from"./routes-1c949114.js";import"./meta-26546594.js";const ee=N({__name:"Deployment",setup(K){const c=Q("deploymentId"),y=P(),f=x(),_=F(),v={interval:3e5},b=p(()=>{var a,l;return[{label:"Details",hidden:S.xl},{label:"Runs"},{label:"Parameters",hidden:(a=t.value)==null?void 0:a.deprecated},{label:"Infra Overrides",hidden:(l=t.value)==null?void 0:l.deprecated},{label:"Description"}]}),h=C(b),r=I(f.deployments.getDeployment,[c.value],v),t=p(()=>r.response);function k(){y.push(J.deployments())}const w=p(()=>{var a;return(a=t.value)!=null&&a.infrastructureOverrides?JSON.stringify(t.value.infrastructureOverrides,void 0,2):"{}"}),D=R({deployments:[c.value]}),T=p(()=>t.value?`Deployment: ${t.value.name}`:"Deployment");return G(T),q(t,()=>{var a,l;!((a=t.value)!=null&&a.workQueueName)&&!((l=t.value)!=null&&l.deprecated)&&_(z.info.deploymentMissingWorkQueue,"default",{timeout:!1})}),(a,l)=>{const U=i("p-content"),g=i("p-tabs"),O=i("p-layout-well");return s(),o(O,{class:"deployment"},{header:n(()=>[e(t)?(s(),o(e(V),{key:0,deployment:e(t),onUpdate:e(r).refresh,onDelete:k},null,8,["deployment","onUpdate"])):u("",!0)]),well:n(()=>[e(t)?(s(),o(e(m),{key:0,deployment:e(t),alternate:"",onUpdate:e(r).refresh},null,8,["deployment","onUpdate"])):u("",!0)]),default:n(()=>[e(t)?(s(),o(g,{key:0,tabs:e(h)},{description:n(()=>[d(U,{secondary:""},{default:n(()=>[e(t).deprecated?(s(),o(e(B),{key:0})):e(t).description?(s(),o(e(W),{key:1,description:e(t).description},null,8,["description"])):(s(),o(e(Y),{key:2,deployment:e(t)},null,8,["deployment"]))]),_:1})]),parameters:n(()=>[d(e(Z),{deployment:e(t)},null,8,["deployment"])]),"infra-overrides":n(()=>[e(t)?(s(),o(e($),{key:0,language:"json",snippet:e(w)},null,8,["snippet"])):u("",!0)]),details:n(()=>[d(e(m),{deployment:e(t),onUpdate:e(r).refresh},null,8,["deployment","onUpdate"])]),runs:n(()=>[d(e(j),{"flow-run-filter":e(D)},null,8,["flow-run-filter"])]),_:1},8,["tabs"])):u("",!0)]),_:1})}}});export{ee as default};
