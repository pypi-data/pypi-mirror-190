import{d as Z,i as C,al as D,c as t,Y as L,a0 as P,am as B,an as V,ao as N,a as n,w as o,a2 as f,a3 as j,Z as q,ap as A,o as l,u as e,aq as H,f as u,ar as w,as as M,b as i,at as O,au as Q,av as U,aw as Y}from"./index-9441189f-553defe4.js";import{u as $}from"./usePageTitle-a2a21432.js";import"./index-cf364cca.js";import{r as z}from"./routes-1c949114.js";import"./meta-26546594.js";const ee=Z({__name:"FlowRun",setup(E){const m=j(),p=C("Logs"),c=D("flowRunId"),d=t(()=>{const s=["Logs","Task Runs","Subflow Runs","Parameters"];return q.xl||s.push("Details"),s}),_=L(),y=P(_.flowRuns.getFlowRun,[c],{interval:3e4}),a=t(()=>y.response),v=t(()=>{var s;return(s=a.value)==null?void 0:s.deploymentId}),R=B(v);V(c,(s,r)=>{s!==r&&(p.value="Logs")});const k=t(()=>{var s;return((s=a.value)==null?void 0:s.parameters)??{}}),b=t(()=>{var s;return((s=R.value)==null?void 0:s.parameterOpenApiSchema)??{}}),g=t(()=>A(k.value,b.value));function T(){m.push(z.flowRuns())}const h=t(()=>{var s;return(s=a.value)==null?void 0:s.stateType});N(h);const F=t(()=>a.value?`Flow Run: ${a.value.name}`:"Flow Run");return $(F),(s,r)=>{const x=f("p-tabs"),I=f("p-layout-well");return l(),n(I,{class:"flow-run"},{header:o(()=>[e(a)?(l(),n(e(H),{key:0,"flow-run-id":e(a).id,onDelete:T},null,8,["flow-run-id"])):u("",!0)]),well:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a),alternate:""},null,8,["flow-run"])):u("",!0)]),default:o(()=>[e(a)?(l(),n(e(M),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0),i(x,{selected:p.value,"onUpdate:selected":r[0]||(r[0]=S=>p.value=S),tabs:e(d)},{details:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),logs:o(()=>[e(a)?(l(),n(e(O),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),"task-runs":o(()=>[e(a)?(l(),n(e(Q),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":o(()=>[e(a)?(l(),n(e(U),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),parameters:o(()=>[i(e(Y),{language:"json",snippet:e(g)},null,8,["snippet"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{ee as default};
