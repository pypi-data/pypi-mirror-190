import{u as M,d as h,c as C,o as l,a as p,w as u,b as a,e,f as c,g as y,s as S,h as v,i as F,X as O,F as P,p as d,r as N,Z as w,j as U,k as A,l as b,M as j,T as B,m as V,R as D,Y as T,$ as E,n as K,q as W,t as q,L as H,v as J,J as Q,S as X,x as Y,y as Z,z}from"./index-1ad4f081-98325998.js";import{r as G}from"./index-eb9d0889.js";import{i as ee}from"./colorMode-747c52be.js";import{r as i}from"./routes-7f16c85e.js";import{U as g,A as te}from"./ApiRoute-4dcc5526.js";import"./meta-26546594.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))m(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&m(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function m(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const L=Symbol("canInjectionKey");function oe(){return M(L)}const se=h({__name:"ContextSidebar",setup(r){const t=oe(),n=C(()=>t.access.work_pools&&t.read.work_pool);return(m,o)=>(l(),p(e(S),{class:"context-sidebar"},{footer:u(()=>[a(e(c),{title:"Settings",icon:"CogIcon",to:e(i).settings()},null,8,["to"])]),default:u(()=>[a(e(c),{title:"Flow Runs",icon:"FlowRun",to:e(i).flowRuns()},null,8,["to"]),a(e(c),{title:"Flows",icon:"Flow",to:e(i).flows()},null,8,["to"]),a(e(c),{title:"Deployments",icon:"LocationMarkerIcon",to:e(i).deployments()},null,8,["to"]),e(n)?(l(),p(e(c),{key:0,title:"Work Pools",icon:"DatabaseIcon",to:e(i).workPools()},null,8,["to"])):y("",!0),e(n)?y("",!0):(l(),p(e(c),{key:1,title:"Work Queues",icon:"DatabaseIcon",to:e(i).workQueues()},null,8,["to"])),a(e(c),{title:"Blocks",icon:"CubeIcon",to:e(i).blocks()},null,8,["to"]),a(e(c),{title:"Notifications",icon:"BellIcon",to:e(i).notifications()},null,8,["to"]),a(e(c),{title:"Task Run Concurrency",icon:"Task",to:e(i).concurrencyLimits()},null,8,["to"])]),_:1}))}}),ne={class:"app-router-view"},ae=h({__name:"AppRouterView",async setup(r){let t,n;const m=([t,n]=v(()=>g.get("apiUrl")),t=await t,n(),t),o=F({baseUrl:m}),s=([t,n]=v(()=>g.get("flags")),t=await t,n(),t),f=O([...P,...s]),x=W();d(L,f),d(T,f),d(E,o),d(K,x);const _=N(!1),k=C(()=>w.lg||_.value);function I(){_.value=!_.value}function R(){_.value=!1}return U(()=>document.body.classList.toggle("body-scrolling-disabled",k.value&&!w.lg)),(fe,me)=>(l(),A("div",ne,[e(w).lg?y("",!0):(l(),p(e(j),{key:0,class:"app-router-view__mobile-menu"},{"upper-links":u(()=>[a(e(b),{icon:"PrefectGradient",class:"app-router-view__prefect-icon"})]),"bottom-links":u(()=>[a(e(b),{icon:"MenuIcon",class:"app-router-view__menu-icon",onClick:I})]),_:1})),e(k)?(l(),p(se,{key:1,class:"app-router-view__sidebar",onClick:R})):y("",!0),a(e(D),{class:"app-router-view__view"},{default:u(({Component:$})=>[a(B,{name:"app-router-view-fade",mode:"out-in"},{default:u(()=>[(l(),p(V($)))]),_:2},1024)]),_:1})]))}});class re extends te(H){}const ce=q(new re);async function ie(){try{await ce.getHealth()}catch(r){const t=await g.get("apiUrl").then(n=>n);J(`Can't connect to Orion API at ${t}. Check that it's accessible from your machine.`,"error",{timeout:!1}),console.warn(r)}}const le={class:"app","data-teleport-target":"app"},ue=h({__name:"App",setup(r){return ie(),Q(),(t,n)=>(l(),A("div",le,[(l(),p(X,null,{default:u(()=>[a(ae)]),_:1}))]))}});ee();function pe(){const r=Y(ue);r.use(G),r.use(Z),r.use(z),r.mount("#app")}pe();
