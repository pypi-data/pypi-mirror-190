import{d as K,r as S,al as V,c as t,V as D,a0 as L,am as N,an as P,ao as A,a as n,w as o,a2 as f,a3 as B,Z as W,ap as Z,o as l,e,aq as j,g as u,ar as w,as as q,b as i,at as H,au as O,av as Q,aw as U}from"./index-1ad4f081-98325998.js";import{u as X}from"./usePageTitle-b23eb992.js";import"./index-eb9d0889.js";import{r as $}from"./routes-7f16c85e.js";import"./meta-26546594.js";const ee=K({__name:"FlowRun",setup(z){const d=B(),p=S("Logs"),c=V("flowRunId"),m=t(()=>{const s=["Logs","Task Runs","Subflow Runs","Parameters"];return W.xl||s.push("Details"),s}),_=D(),y=L(_.flowRuns.getFlowRun,[c],{interval:5e3}),a=t(()=>y.response),v=t(()=>{var s;return(s=a.value)==null?void 0:s.deploymentId}),R=N(v);P(c,(s,r)=>{s!==r&&(p.value="Logs")});const b=t(()=>{var s;return((s=a.value)==null?void 0:s.parameters)??{}}),g=t(()=>{var s;return((s=R.value)==null?void 0:s.parameterOpenApiSchema)??{}}),k=t(()=>Z(b.value,g.value));function T(){d.push($.flowRuns())}const h=t(()=>{var s;return(s=a.value)==null?void 0:s.stateType});A(h);const F=t(()=>a.value?`Flow Run: ${a.value.name}`:"Flow Run");return X(F),(s,r)=>{const x=f("p-tabs"),C=f("p-layout-well");return l(),n(C,{class:"flow-run"},{header:o(()=>[e(a)?(l(),n(e(j),{key:0,"flow-run-id":e(a).id,onDelete:T},null,8,["flow-run-id"])):u("",!0)]),well:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a),alternate:""},null,8,["flow-run"])):u("",!0)]),default:o(()=>[e(a)?(l(),n(e(q),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0),i(x,{selected:p.value,"onUpdate:selected":r[0]||(r[0]=I=>p.value=I),tabs:e(m)},{details:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),logs:o(()=>[e(a)?(l(),n(e(H),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),"task-runs":o(()=>[e(a)?(l(),n(e(O),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":o(()=>[e(a)?(l(),n(e(Q),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),parameters:o(()=>[i(e(U),{language:"json",snippet:e(k)},null,8,["snippet"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{ee as default};
