import{d as O,al as V,V as N,c as p,aN as x,a0 as C,aG as I,an as P,a as o,w as n,a2 as i,a3 as R,Z as S,o as s,e,aO as B,g as d,aP as m,b as u,aQ as Z,aR as $,aS as j,aT as F,aw as G,aK as J,aU as K}from"./index-1ad4f081-98325998.js";import{u as M}from"./useToast-3ce03e64.js";import{u as W}from"./usePageTitle-b23eb992.js";import"./index-eb9d0889.js";import{r as Y}from"./routes-7f16c85e.js";import"./meta-26546594.js";const ee=O({__name:"Deployment",setup(q){const c=V("deploymentId"),y=R(),f=N(),_=M(),v={interval:3e5},b=p(()=>{var a,l;return[{label:"Details",hidden:S.xl},{label:"Runs"},{label:"Parameters",hidden:(a=t.value)==null?void 0:a.deprecated},{label:"Infra Overrides",hidden:(l=t.value)==null?void 0:l.deprecated},{label:"Description"}]}),h=x(b),r=C(f.deployments.getDeployment,[c.value],v),t=p(()=>r.response);function k(){y.push(Y.deployments())}const w=p(()=>{var a;return(a=t.value)!=null&&a.infrastructureOverrides?JSON.stringify(t.value.infrastructureOverrides,void 0,2):"{}"}),D=I({deployments:[c.value]}),Q=p(()=>t.value?`Deployment: ${t.value.name}`:"Deployment");return W(Q),P(t,()=>{var a,l;!((a=t.value)!=null&&a.workQueueName)&&!((l=t.value)!=null&&l.deprecated)&&_(K.info.deploymentMissingWorkQueue,"default",{timeout:!1})}),(a,l)=>{const g=i("p-content"),T=i("p-tabs"),U=i("p-layout-well");return s(),o(U,{class:"deployment"},{header:n(()=>[e(t)?(s(),o(e(B),{key:0,deployment:e(t),onUpdate:e(r).refresh,onDelete:k},null,8,["deployment","onUpdate"])):d("",!0)]),well:n(()=>[e(t)?(s(),o(e(m),{key:0,deployment:e(t),alternate:"",onUpdate:e(r).refresh},null,8,["deployment","onUpdate"])):d("",!0)]),default:n(()=>[e(t)?(s(),o(T,{key:0,tabs:e(h)},{description:n(()=>[u(g,{secondary:""},{default:n(()=>[e(t).deprecated?(s(),o(e(Z),{key:0})):e(t).description?(s(),o(e($),{key:1,description:e(t).description},null,8,["description"])):(s(),o(e(j),{key:2,deployment:e(t)},null,8,["deployment"]))]),_:1})]),parameters:n(()=>[u(e(F),{deployment:e(t)},null,8,["deployment"])]),"infra-overrides":n(()=>[e(t)?(s(),o(e(G),{key:0,language:"json",snippet:e(w)},null,8,["snippet"])):d("",!0)]),details:n(()=>[u(e(m),{deployment:e(t),onUpdate:e(r).refresh},null,8,["deployment","onUpdate"])]),runs:n(()=>[u(e(J),{"flow-run-filter":e(D)},null,8,["flow-run-filter"])]),_:1},8,["tabs"])):d("",!0)]),_:1})}}});export{ee as default};
