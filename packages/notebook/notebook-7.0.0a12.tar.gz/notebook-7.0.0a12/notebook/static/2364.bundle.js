"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[2364],{52364:(e,o,t)=>{t.r(o),t.d(o,{commandEditItem:()=>D,default:()=>ee,executionIndicator:()=>F,exportPlugin:()=>K,notebookTrustItem:()=>U});var n=t(68494),l=t(83600),a=t(4667),r=t(12840),d=t(79866),i=t(84534),s=t(91036),c=t(65075),u=t(12508),b=t(14316),m=t(7215),g=t(29721),p=t(45185),k=t(66220),C=t(2076),v=t(8387),x=t(8309),f=t(35560),h=t(74288),_=t(30781),w=t(69352),A=t(2889),y=t(47728),S=t(41759),E=t(93046),N=t(97167),I=t(83124),T=t(40462),M=t(93648);const O={activate:function(e,o,t){function n(e){function o(o,n,l){if(M.KernelMessage.isDisplayDataMsg(o)||M.KernelMessage.isStreamMsg(o)||M.KernelMessage.isErrorMsg(o)||M.KernelMessage.isExecuteResultMsg(o)){const a=t.getLogger(e.context.path);a.rendermime=e.content.rendermime;const r={...o.content,output_type:o.header.msg_type};let d=n;(M.KernelMessage.isErrorMsg(o)||M.KernelMessage.isStreamMsg(o)&&"stderr"===o.content.name)&&(d=l),a.log({type:"output",data:r,level:d})}}e.context.sessionContext.iopubMessage.connect(((e,t)=>o(t,"info","info"))),e.context.sessionContext.unhandledMessage.connect(((e,t)=>o(t,"warning","error")))}t&&(o.forEach((e=>n(e))),o.widgetAdded.connect(((e,o)=>n(o))))},id:"@jupyterlab/notebook-extension:log-output",requires:[p.INotebookTracker],optional:[T.ILoggerRegistry],autoStart:!0};var B;!function(e){e.createNew="notebook:create-new",e.interrupt="notebook:interrupt-kernel",e.restart="notebook:restart-kernel",e.restartClear="notebook:restart-clear-output",e.restartAndRunToSelected="notebook:restart-and-run-to-selected",e.restartRunAll="notebook:restart-run-all",e.reconnectToKernel="notebook:reconnect-to-kernel",e.changeKernel="notebook:change-kernel",e.getKernel="notebook:get-kernel",e.createConsole="notebook:create-console",e.createOutputView="notebook:create-output-view",e.clearAllOutputs="notebook:clear-all-cell-outputs",e.shutdown="notebook:shutdown-kernel",e.closeAndShutdown="notebook:close-and-shutdown",e.trust="notebook:trust",e.exportToFormat="notebook:export-to-format",e.run="notebook:run-cell",e.runAndAdvance="notebook:run-cell-and-select-next",e.runAndInsert="notebook:run-cell-and-insert-below",e.runInConsole="notebook:run-in-console",e.runAll="notebook:run-all-cells",e.runAllAbove="notebook:run-all-above",e.runAllBelow="notebook:run-all-below",e.renderAllMarkdown="notebook:render-all-markdown",e.toCode="notebook:change-cell-to-code",e.toMarkdown="notebook:change-cell-to-markdown",e.toRaw="notebook:change-cell-to-raw",e.cut="notebook:cut-cell",e.copy="notebook:copy-cell",e.pasteAbove="notebook:paste-cell-above",e.pasteBelow="notebook:paste-cell-below",e.duplicateBelow="notebook:duplicate-below",e.pasteAndReplace="notebook:paste-and-replace-cell",e.moveUp="notebook:move-cell-up",e.moveDown="notebook:move-cell-down",e.clearOutputs="notebook:clear-cell-output",e.deleteCell="notebook:delete-cell",e.insertAbove="notebook:insert-cell-above",e.insertBelow="notebook:insert-cell-below",e.selectAbove="notebook:move-cursor-up",e.selectBelow="notebook:move-cursor-down",e.selectHeadingAboveOrCollapse="notebook:move-cursor-heading-above-or-collapse",e.selectHeadingBelowOrExpand="notebook:move-cursor-heading-below-or-expand",e.insertHeadingAbove="notebook:insert-heading-above",e.insertHeadingBelow="notebook:insert-heading-below",e.extendAbove="notebook:extend-marked-cells-above",e.extendTop="notebook:extend-marked-cells-top",e.extendBelow="notebook:extend-marked-cells-below",e.extendBottom="notebook:extend-marked-cells-bottom",e.selectAll="notebook:select-all",e.deselectAll="notebook:deselect-all",e.editMode="notebook:enter-edit-mode",e.merge="notebook:merge-cells",e.mergeAbove="notebook:merge-cell-above",e.mergeBelow="notebook:merge-cell-below",e.split="notebook:split-cell-at-cursor",e.commandMode="notebook:enter-command-mode",e.toggleAllLines="notebook:toggle-all-cell-line-numbers",e.undoCellAction="notebook:undo-cell-action",e.redoCellAction="notebook:redo-cell-action",e.redo="notebook:redo",e.undo="notebook:undo",e.markdown1="notebook:change-cell-to-heading-1",e.markdown2="notebook:change-cell-to-heading-2",e.markdown3="notebook:change-cell-to-heading-3",e.markdown4="notebook:change-cell-to-heading-4",e.markdown5="notebook:change-cell-to-heading-5",e.markdown6="notebook:change-cell-to-heading-6",e.hideCode="notebook:hide-cell-code",e.showCode="notebook:show-cell-code",e.hideAllCode="notebook:hide-all-cell-code",e.showAllCode="notebook:show-all-cell-code",e.hideOutput="notebook:hide-cell-outputs",e.showOutput="notebook:show-cell-outputs",e.hideAllOutputs="notebook:hide-all-cell-outputs",e.showAllOutputs="notebook:show-all-cell-outputs",e.toggleRenderSideBySideCurrentNotebook="notebook:toggle-render-side-by-side-current",e.setSideBySideRatio="notebook:set-side-by-side-ratio",e.enableOutputScrolling="notebook:enable-output-scrolling",e.disableOutputScrolling="notebook:disable-output-scrolling",e.selectLastRunCell="notebook:select-last-run-cell",e.replaceSelection="notebook:replace-selection",e.autoClosingBrackets="notebook:toggle-autoclosing-brackets",e.toggleCollapseCmd="notebook:toggle-heading-collapse",e.collapseAllCmd="notebook:collapse-all-headings",e.expandAllCmd="notebook:expand-all-headings",e.copyToClipboard="notebook:copy-to-clipboard",e.invokeCompleter="completer:invoke-notebook",e.selectCompleter="completer:select-notebook",e.tocRunCells="toc:run-cells"}(B||(B={}));const R="Notebook",j=["notebook","python","custom"],H="jp-NotebookExtension-sideBySideMargins",P={id:"@jupyterlab/notebook-extension:tracker",provides:p.INotebookTracker,requires:[p.INotebookWidgetFactory],optional:[l.ICommandPalette,u.IDefaultFileBrowser,b.ILauncher,n.ILayoutRestorer,g.IMainMenu,n.IRouter,v.ISettingRegistry,l.ISessionContextDialogs,_.ITranslator],activate:function(e,o,t,n,r,d,i,s,c,u,b){const m=(b=null!=b?b:_.nullTranslator).load("jupyterlab"),g=e.serviceManager,{commands:k,shell:C}=e,v=new p.NotebookTracker({namespace:"notebook"});null==s||s.routed.connect((function(e,o){o.hash&&v.currentWidget&&v.currentWidget.setFragment(o.hash)}));const x=()=>te.isEnabled(C,v),f=e=>document.documentElement.style.setProperty("--jp-side-by-side-output-size",`${e}fr`);(c?c.load(P.id):Promise.reject(new Error(`No setting registry for ${P.id}`))).then((e=>{T(e),e.changed.connect((()=>{T(e)})),k.addCommand(B.autoClosingBrackets,{execute:o=>{var t;const n=e.get("codeCellConfig").composite,l=e.get("markdownCellConfig").composite,a=e.get("rawCellConfig").composite,r=n.autoClosingBrackets||l.autoClosingBrackets||a.autoClosingBrackets,d=!!(null!==(t=o.force)&&void 0!==t?t:!r);[n.autoClosingBrackets,l.autoClosingBrackets,a.autoClosingBrackets]=[d,d,d],e.set("codeCellConfig",n),e.set("markdownCellConfig",l),e.set("rawCellConfig",a)},label:m.__("Auto Close Brackets for All Notebook Cell Types"),isToggled:()=>["codeCellConfig","markdownCellConfig","rawCellConfig"].some((o=>e.get(o).composite.autoClosingBrackets))}),k.addCommand(B.setSideBySideRatio,{label:m.__("Set side-by-side ratio"),execute:o=>{l.InputDialog.getNumber({title:m.__("Width of the output in side-by-side mode"),value:e.get("sideBySideOutputRatio").composite}).then((o=>{f(o.value),o.value&&e.set("sideBySideOutputRatio",o.value)})).catch(console.error)}})})).catch((e=>{console.warn(e.message),I({editorConfig:o.editorConfig,notebookConfig:o.notebookConfig,kernelShutdown:o.shutdownOnClose})})),d&&d.restore(v,{command:"docmanager:open",args:e=>({path:e.context.path,factory:R}),name:e=>e.context.path,when:g.ready});const h=e.docRegistry,A=new p.NotebookModelFactory({disableDocumentWideUndoRedo:o.notebookConfig.disableDocumentWideUndoRedo,collaborative:!0});h.addModelFactory(A),function(e,o,t,n,r){const d=t.load("jupyterlab"),{commands:i,shell:s}=e;n=null!=n?n:l.sessionContextDialogs;const c=()=>te.isEnabledAndSingleSelected(s,o);o.currentChanged.connect(((e,o)=>{var t,n;(null===(n=null===(t=null==o?void 0:o.content)||void 0===t?void 0:t.model)||void 0===n?void 0:n.cells)&&(o.content.model.cells.changed.connect(((e,t)=>{(e=>{var o,t;for(const n of e.widgets)n instanceof a.MarkdownCell&&n.headingCollapsed&&p.NotebookActions.setHeadingCollapse(n,!0,e),n.model.id===(null===(t=null===(o=e.activeCell)||void 0===o?void 0:o.model)||void 0===t?void 0:t.id)&&p.NotebookActions.expandParent(n,e)})(o.content)})),o.content.activeCellChanged.connect(((e,o)=>{p.NotebookActions.expandParent(o,e)})))})),i.addCommand(B.runAndAdvance,{label:d.__("Run Selected Cells"),execute:e=>{const t=oe(o,s,e);if(t){const{context:e,content:o}=t;return p.NotebookActions.runAndAdvance(o,e.sessionContext)}},isEnabled:r}),i.addCommand(B.run,{label:d.__("Run Selected Cells and Do not Advance"),execute:e=>{const t=oe(o,s,e);if(t){const{context:e,content:o}=t;return p.NotebookActions.run(o,e.sessionContext)}},isEnabled:r}),i.addCommand(B.runAndInsert,{label:d.__("Run Selected Cells and Insert Below"),execute:e=>{const t=oe(o,s,e);if(t){const{context:e,content:o}=t;return p.NotebookActions.runAndInsert(o,e.sessionContext)}},isEnabled:r}),i.addCommand(B.runAll,{label:d.__("Run All Cells"),execute:e=>{const t=oe(o,s,e);if(t){const{context:e,content:o}=t;return p.NotebookActions.runAll(o,e.sessionContext)}},isEnabled:r}),i.addCommand(B.runAllAbove,{label:d.__("Run All Above Selected Cell"),execute:e=>{const t=oe(o,s,e);if(t){const{context:e,content:o}=t;return p.NotebookActions.runAllAbove(o,e.sessionContext)}},isEnabled:()=>c()&&0!==o.currentWidget.content.activeCellIndex}),i.addCommand(B.runAllBelow,{label:d.__("Run Selected Cell and All Below"),execute:e=>{const t=oe(o,s,e);if(t){const{context:e,content:o}=t;return p.NotebookActions.runAllBelow(o,e.sessionContext)}},isEnabled:()=>c()&&o.currentWidget.content.activeCellIndex!==o.currentWidget.content.widgets.length-1}),i.addCommand(B.renderAllMarkdown,{label:d.__("Render All Markdown Cells"),execute:e=>{const t=oe(o,s,e);if(t){const{context:e,content:o}=t;return p.NotebookActions.renderAllMarkdown(o,e.sessionContext)}},isEnabled:r}),i.addCommand(B.restart,{label:d.__("Restart Kernel…"),execute:e=>{const l=oe(o,s,e);if(l)return n.restart(l.sessionContext,t)},isEnabled:r}),i.addCommand(B.shutdown,{label:d.__("Shut Down Kernel"),execute:e=>{const t=oe(o,s,e);if(t)return t.context.sessionContext.shutdown()},isEnabled:r}),i.addCommand(B.closeAndShutdown,{label:d.__("Close and Shut Down Notebook"),execute:e=>{const t=oe(o,s,e);if(!t)return;const n=t.title.label;return(0,l.showDialog)({title:d.__("Shut down the notebook?"),body:d.__('Are you sure you want to close "%1"?',n),buttons:[l.Dialog.cancelButton(),l.Dialog.warnButton()]}).then((e=>{if(e.button.accept)return i.execute(B.shutdown,{activate:!1}).then((()=>{t.dispose()}))}))},isEnabled:r}),i.addCommand(B.trust,{label:()=>d.__("Trust Notebook"),execute:e=>{const t=oe(o,s,e);if(t){const{context:e,content:o}=t;return p.NotebookActions.trust(o).then((()=>e.save()))}},isEnabled:r}),i.addCommand(B.restartClear,{label:d.__("Restart Kernel and Clear Outputs of All Cells…"),caption:d.__("Restart the kernel and clear all outputs of all cells"),execute:async()=>{await i.execute(B.restart,{activate:!1})&&await i.execute(B.clearAllOutputs)},isEnabled:r}),i.addCommand(B.restartAndRunToSelected,{label:d.__("Restart Kernel and Run up to Selected Cell…"),execute:async()=>{if(await i.execute(B.restart,{activate:!1})&&await i.execute(B.runAllAbove,{activate:!1}))return i.execute(B.run)},isEnabled:c}),i.addCommand(B.restartRunAll,{label:d.__("Restart Kernel and Run All Cells…"),execute:async()=>{await i.execute(B.restart,{activate:!1})&&await i.execute(B.runAll)},isEnabled:r}),i.addCommand(B.clearAllOutputs,{label:d.__("Clear Outputs of All Cells"),caption:d.__("Clear all outputs of all cells"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.clearAllOutputs(t.content)},isEnabled:r}),i.addCommand(B.clearOutputs,{label:d.__("Clear Cell Output"),caption:d.__("Clear outputs for the selected cells"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.clearOutputs(t.content)},isEnabled:r}),i.addCommand(B.interrupt,{label:d.__("Interrupt Kernel"),execute:e=>{var t;const n=oe(o,s,e);if(!n)return;const l=null===(t=n.context.sessionContext.session)||void 0===t?void 0:t.kernel;return l?l.interrupt():void 0},isEnabled:r}),i.addCommand(B.toCode,{label:d.__("Change to Code Cell Type"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.changeCellType(t.content,"code")},isEnabled:r}),i.addCommand(B.toMarkdown,{label:d.__("Change to Markdown Cell Type"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.changeCellType(t.content,"markdown")},isEnabled:r}),i.addCommand(B.toRaw,{label:d.__("Change to Raw Cell Type"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.changeCellType(t.content,"raw")},isEnabled:r}),i.addCommand(B.cut,{label:d.__("Cut Cells"),caption:d.__("Cut the selected cells"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.cut(t.content)},icon:e=>e.toolbar?w.cutIcon:void 0,isEnabled:r}),i.addCommand(B.copy,{label:d.__("Copy Cells"),caption:d.__("Copy the selected cells"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.copy(t.content)},icon:e=>e.toolbar?w.copyIcon:void 0,isEnabled:r}),i.addCommand(B.pasteBelow,{label:d.__("Paste Cells Below"),caption:d.__("Paste cells from the clipboard"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.paste(t.content,"below")},icon:e=>e.toolbar?w.pasteIcon:void 0,isEnabled:r}),i.addCommand(B.pasteAbove,{label:d.__("Paste Cells Above"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.paste(t.content,"above")},isEnabled:r}),i.addCommand(B.duplicateBelow,{label:d.__("Duplicate Cells Below"),caption:d.__("Copy the selected cells and paste them below the selection"),execute:e=>{const t=oe(o,s,e);t&&p.NotebookActions.duplicate(t.content,"belowSelected")},icon:e=>e.toolbar?w.duplicateIcon:void 0,isEnabled:r}),i.addCommand(B.pasteAndReplace,{label:d.__("Paste Cells and Replace"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.paste(t.content,"replace")},isEnabled:r}),i.addCommand(B.deleteCell,{label:d.__("Delete Cells"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.deleteCells(t.content)},isEnabled:r}),i.addCommand(B.split,{label:d.__("Split Cell"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.splitCell(t.content)},isEnabled:r}),i.addCommand(B.merge,{label:d.__("Merge Selected Cells"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.mergeCells(t.content)},isEnabled:r}),i.addCommand(B.mergeAbove,{label:d.__("Merge Cell Above"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.mergeCells(t.content,!0)},isEnabled:r}),i.addCommand(B.mergeBelow,{label:d.__("Merge Cell Below"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.mergeCells(t.content,!1)},isEnabled:r}),i.addCommand(B.insertAbove,{label:d.__("Insert Cell Above"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.insertAbove(t.content)},icon:e=>e.toolbar?w.addAboveIcon:void 0,isEnabled:r}),i.addCommand(B.insertBelow,{label:d.__("Insert Cell Below"),caption:d.__("Insert a cell below"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.insertBelow(t.content)},icon:e=>e.toolbar?w.addBelowIcon:void 0,isEnabled:r}),i.addCommand(B.selectAbove,{label:d.__("Select Cell Above"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.selectAbove(t.content)},isEnabled:r}),i.addCommand(B.selectBelow,{label:d.__("Select Cell Below"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.selectBelow(t.content)},isEnabled:r}),i.addCommand(B.insertHeadingAbove,{label:d.__("Insert Heading Above Current Heading"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.insertSameLevelHeadingAbove(t.content)},isEnabled:r}),i.addCommand(B.insertHeadingBelow,{label:d.__("Insert Heading Below Current Heading"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.insertSameLevelHeadingBelow(t.content)},isEnabled:r}),i.addCommand(B.selectHeadingAboveOrCollapse,{label:d.__("Select Heading Above or Collapse Heading"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.selectHeadingAboveOrCollapseHeading(t.content)},isEnabled:r}),i.addCommand(B.selectHeadingBelowOrExpand,{label:d.__("Select Heading Below or Expand Heading"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.selectHeadingBelowOrExpandHeading(t.content)},isEnabled:r}),i.addCommand(B.extendAbove,{label:d.__("Extend Selection Above"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.extendSelectionAbove(t.content)},isEnabled:r}),i.addCommand(B.extendTop,{label:d.__("Extend Selection to Top"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.extendSelectionAbove(t.content,!0)},isEnabled:r}),i.addCommand(B.extendBelow,{label:d.__("Extend Selection Below"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.extendSelectionBelow(t.content)},isEnabled:r}),i.addCommand(B.extendBottom,{label:d.__("Extend Selection to Bottom"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.extendSelectionBelow(t.content,!0)},isEnabled:r}),i.addCommand(B.selectAll,{label:d.__("Select All Cells"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.selectAll(t.content)},isEnabled:r}),i.addCommand(B.deselectAll,{label:d.__("Deselect All Cells"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.deselectAll(t.content)},isEnabled:r}),i.addCommand(B.moveUp,{label:d.__("Move Cells Up"),execute:e=>{const t=oe(o,s,e);t&&(p.NotebookActions.moveUp(t.content),te.raiseSilentNotification(d.__("Notebook cell shifted up successfully"),t.node))},isEnabled:r,icon:e=>e.toolbar?w.moveUpIcon:void 0}),i.addCommand(B.moveDown,{label:d.__("Move Cells Down"),execute:e=>{const t=oe(o,s,e);t&&(p.NotebookActions.moveDown(t.content),te.raiseSilentNotification(d.__("Notebook cell shifted down successfully"),t.node))},isEnabled:r,icon:e=>e.toolbar?w.moveDownIcon:void 0}),i.addCommand(B.toggleAllLines,{label:d.__("Show Line Numbers"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.toggleAllLineNumbers(t.content)},isEnabled:r,isToggled:e=>{const t=oe(o,s,{...e,activate:!1});if(t){const e=t.content.editorConfig;return!!(e.code.lineNumbers&&e.markdown.lineNumbers&&e.raw.lineNumbers)}return!1}}),i.addCommand(B.commandMode,{label:d.__("Enter Command Mode"),execute:e=>{const t=oe(o,s,e);t&&(t.content.mode="command")},isEnabled:r}),i.addCommand(B.editMode,{label:d.__("Enter Edit Mode"),execute:e=>{const t=oe(o,s,e);t&&(t.content.mode="edit")},isEnabled:r}),i.addCommand(B.undoCellAction,{label:d.__("Undo Cell Operation"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.undo(t.content)},isEnabled:r}),i.addCommand(B.redoCellAction,{label:d.__("Redo Cell Operation"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.redo(t.content)},isEnabled:r}),i.addCommand(B.redo,{label:d.__("Redo"),execute:e=>{var t,n;const l=oe(o,s,e);if(l)return null===(n=null===(t=l.content.activeCell)||void 0===t?void 0:t.editor)||void 0===n?void 0:n.redo()}}),i.addCommand(B.undo,{label:d.__("Undo"),execute:e=>{var t,n;const l=oe(o,s,e);if(l)return null===(n=null===(t=l.content.activeCell)||void 0===t?void 0:t.editor)||void 0===n?void 0:n.undo()}}),i.addCommand(B.changeKernel,{label:d.__("Change Kernel…"),execute:e=>{const l=oe(o,s,e);if(l)return n.selectKernel(l.context.sessionContext,t)},isEnabled:r}),i.addCommand(B.getKernel,{label:d.__("Get Kernel"),execute:e=>{var t;const n=oe(o,s,{activate:!1,...e});if(n)return null===(t=n.sessionContext.session)||void 0===t?void 0:t.kernel},isEnabled:r}),i.addCommand(B.reconnectToKernel,{label:d.__("Reconnect to Kernel"),execute:e=>{var t;const n=oe(o,s,e);if(!n)return;const l=null===(t=n.context.sessionContext.session)||void 0===t?void 0:t.kernel;return l?l.reconnect():void 0},isEnabled:r}),i.addCommand(B.markdown1,{label:d.__("Change to Heading 1"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.setMarkdownHeader(t.content,1)},isEnabled:r}),i.addCommand(B.markdown2,{label:d.__("Change to Heading 2"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.setMarkdownHeader(t.content,2)},isEnabled:r}),i.addCommand(B.markdown3,{label:d.__("Change to Heading 3"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.setMarkdownHeader(t.content,3)},isEnabled:r}),i.addCommand(B.markdown4,{label:d.__("Change to Heading 4"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.setMarkdownHeader(t.content,4)},isEnabled:r}),i.addCommand(B.markdown5,{label:d.__("Change to Heading 5"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.setMarkdownHeader(t.content,5)},isEnabled:r}),i.addCommand(B.markdown6,{label:d.__("Change to Heading 6"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.setMarkdownHeader(t.content,6)},isEnabled:r}),i.addCommand(B.hideCode,{label:d.__("Collapse Selected Code"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.hideCode(t.content)},isEnabled:r}),i.addCommand(B.showCode,{label:d.__("Expand Selected Code"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.showCode(t.content)},isEnabled:r}),i.addCommand(B.hideAllCode,{label:d.__("Collapse All Code"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.hideAllCode(t.content)},isEnabled:r}),i.addCommand(B.showAllCode,{label:d.__("Expand All Code"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.showAllCode(t.content)},isEnabled:r}),i.addCommand(B.hideOutput,{label:d.__("Collapse Selected Outputs"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.hideOutput(t.content)},isEnabled:r}),i.addCommand(B.showOutput,{label:d.__("Expand Selected Outputs"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.showOutput(t.content)},isEnabled:r}),i.addCommand(B.hideAllOutputs,{label:d.__("Collapse All Outputs"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.hideAllOutputs(t.content)},isEnabled:r}),i.addCommand(B.toggleRenderSideBySideCurrentNotebook,{label:d.__("Render Side-by-Side"),execute:e=>{const t=oe(o,s,e);if(t)return"side-by-side"===t.content.renderingLayout?p.NotebookActions.renderDefault(t.content):p.NotebookActions.renderSideBySide(t.content)},isEnabled:r,isToggled:e=>{const t=oe(o,s,{...e,activate:!1});return!!t&&"side-by-side"===t.content.renderingLayout}}),i.addCommand(B.showAllOutputs,{label:d.__("Expand All Outputs"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.showAllOutputs(t.content)},isEnabled:r}),i.addCommand(B.enableOutputScrolling,{label:d.__("Enable Scrolling for Outputs"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.enableOutputScrolling(t.content)},isEnabled:r}),i.addCommand(B.disableOutputScrolling,{label:d.__("Disable Scrolling for Outputs"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.disableOutputScrolling(t.content)},isEnabled:r}),i.addCommand(B.selectLastRunCell,{label:d.__("Select current running or last run cell"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.selectLastRunCell(t.content)},isEnabled:r}),i.addCommand(B.replaceSelection,{label:d.__("Replace Selection in Notebook Cell"),execute:e=>{const t=oe(o,s,e),n=e.text||"";if(t)return p.NotebookActions.replaceSelection(t.content,n)},isEnabled:r}),i.addCommand(B.toggleCollapseCmd,{label:d.__("Toggle Collapse Notebook Heading"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.toggleCurrentHeadingCollapse(t.content)},isEnabled:()=>te.isEnabledAndHeadingSelected(s,o)}),i.addCommand(B.collapseAllCmd,{label:d.__("Collapse All Headings"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.collapseAllHeadings(t.content)}}),i.addCommand(B.expandAllCmd,{label:d.__("Expand All Headings"),execute:e=>{const t=oe(o,s,e);if(t)return p.NotebookActions.expandAllHeadings(t.content)}}),i.addCommand(B.tocRunCells,{label:d.__("Select and Run Cell(s) for this Heading"),execute:e=>{const t=oe(o,s,{activate:!1,...e});if(null===t)return;const n=t.content.activeCell;let l=t.content.activeCellIndex;if(n instanceof a.MarkdownCell){const e=t.content.widgets,o=n.headingInfo.level;for(let n=t.content.activeCellIndex+1;n<e.length;n++){const t=e[n];if(t instanceof a.MarkdownCell&&t.headingInfo.level>=0&&t.headingInfo.level<=o)break;l=n}}t.content.extendContiguousSelectionTo(l),p.NotebookActions.run(t.content,t.sessionContext)}})}(e,v,b,u,x),t&&function(e,o){const t=o.load("jupyterlab");let n=t.__("Notebook Operations");[B.interrupt,B.restart,B.restartClear,B.restartRunAll,B.runAll,B.renderAllMarkdown,B.runAllAbove,B.runAllBelow,B.restartAndRunToSelected,B.selectAll,B.deselectAll,B.clearAllOutputs,B.toggleAllLines,B.editMode,B.commandMode,B.changeKernel,B.reconnectToKernel,B.createConsole,B.closeAndShutdown,B.trust,B.toggleCollapseCmd,B.collapseAllCmd,B.expandAllCmd].forEach((o=>{e.addItem({command:o,category:n})})),e.addItem({command:B.createNew,category:n,args:{isPalette:!0}}),n=t.__("Notebook Cell Operations"),[B.run,B.runAndAdvance,B.runAndInsert,B.runInConsole,B.clearOutputs,B.toCode,B.toMarkdown,B.toRaw,B.cut,B.copy,B.pasteBelow,B.pasteAbove,B.pasteAndReplace,B.deleteCell,B.split,B.merge,B.mergeAbove,B.mergeBelow,B.insertAbove,B.insertBelow,B.selectAbove,B.selectBelow,B.selectHeadingAboveOrCollapse,B.selectHeadingBelowOrExpand,B.insertHeadingAbove,B.insertHeadingBelow,B.extendAbove,B.extendTop,B.extendBelow,B.extendBottom,B.moveDown,B.moveUp,B.undoCellAction,B.redoCellAction,B.markdown1,B.markdown2,B.markdown3,B.markdown4,B.markdown5,B.markdown6,B.hideCode,B.showCode,B.hideAllCode,B.showAllCode,B.hideOutput,B.showOutput,B.hideAllOutputs,B.showAllOutputs,B.toggleRenderSideBySideCurrentNotebook,B.setSideBySideRatio,B.enableOutputScrolling,B.disableOutputScrolling].forEach((o=>{e.addItem({command:o,category:n})}))}(t,b);let y=0;const N=e.docRegistry.getFileType("notebook");function I(e){v.forEach((o=>{o.setConfig(e)}))}function T(e){const t={...p.StaticNotebook.defaultEditorConfig.code,...e.get("codeCellConfig").composite},n={...p.StaticNotebook.defaultEditorConfig.markdown,...e.get("markdownCellConfig").composite},l={...p.StaticNotebook.defaultEditorConfig.raw,...e.get("rawCellConfig").composite};o.editorConfig={code:t,markdown:n,raw:l},o.notebookConfig={showHiddenCellsButton:e.get("showHiddenCellsButton").composite,scrollPastEnd:e.get("scrollPastEnd").composite,defaultCell:e.get("defaultCell").composite,recordTiming:e.get("recordTiming").composite,overscanCount:e.get("overscanCount").composite,maxNumberOutputs:e.get("maxNumberOutputs").composite,showEditorForReadOnlyMarkdown:e.get("showEditorForReadOnlyMarkdown").composite,disableDocumentWideUndoRedo:e.get("experimentalDisableDocumentWideUndoRedo").composite,renderingLayout:e.get("renderingLayout").composite,sideBySideLeftMarginOverride:e.get("sideBySideLeftMarginOverride").composite,sideBySideRightMarginOverride:e.get("sideBySideRightMarginOverride").composite,sideBySideOutputRatio:e.get("sideBySideOutputRatio").composite,windowingMode:e.get("windowingMode").composite},f(o.notebookConfig.sideBySideOutputRatio);const a=`.jp-mod-sideBySide.jp-Notebook .jp-Notebook-cell {\n      margin-left: ${o.notebookConfig.sideBySideLeftMarginOverride} !important;\n      margin-right: ${o.notebookConfig.sideBySideRightMarginOverride} !important;`,r=document.getElementById(H);r?r.innerText=a:document.head.insertAdjacentHTML("beforeend",`<style id="${H}">${a}}</style>`),o.shutdownOnClose=e.get("kernelShutdown").composite,A.disableDocumentWideUndoRedo=e.get("experimentalDisableDocumentWideUndoRedo").composite,I({editorConfig:o.editorConfig,notebookConfig:o.notebookConfig,kernelShutdown:o.shutdownOnClose})}return o.widgetCreated.connect(((e,o)=>{var t,n;o.id=o.id||"notebook-"+ ++y,o.title.icon=null==N?void 0:N.icon,o.title.iconClass=null!==(t=null==N?void 0:N.iconClass)&&void 0!==t?t:"",o.title.iconLabel=null!==(n=null==N?void 0:N.iconLabel)&&void 0!==n?n:"",o.context.pathChanged.connect((()=>{v.save(o)})),v.add(o)})),i&&function(e,o,t,n){t=t||l.sessionContextDialogs,e.editMenu.undoers.redo.add({id:B.redo,isEnabled:n}),e.editMenu.undoers.undo.add({id:B.undo,isEnabled:n}),e.editMenu.clearers.clearAll.add({id:B.clearAllOutputs,isEnabled:n}),e.editMenu.clearers.clearCurrent.add({id:B.clearOutputs,isEnabled:n}),e.fileMenu.consoleCreators.add({id:B.createConsole,isEnabled:n}),e.fileMenu.closeAndCleaners.add({id:B.closeAndShutdown,isEnabled:n}),e.kernelMenu.kernelUsers.changeKernel.add({id:B.changeKernel,isEnabled:n}),e.kernelMenu.kernelUsers.clearWidget.add({id:B.clearAllOutputs,isEnabled:n}),e.kernelMenu.kernelUsers.interruptKernel.add({id:B.interrupt,isEnabled:n}),e.kernelMenu.kernelUsers.reconnectToKernel.add({id:B.reconnectToKernel,isEnabled:n}),e.kernelMenu.kernelUsers.restartKernel.add({id:B.restart,isEnabled:n}),e.kernelMenu.kernelUsers.shutdownKernel.add({id:B.shutdown,isEnabled:n}),e.viewMenu.editorViewers.toggleLineNumbers.add({id:B.toggleAllLines,isEnabled:n}),e.runMenu.codeRunners.restart.add({id:B.restart,isEnabled:n}),e.runMenu.codeRunners.run.add({id:B.runAndAdvance,isEnabled:n}),e.runMenu.codeRunners.runAll.add({id:B.runAll,isEnabled:n}),e.helpMenu.getKernel.add({id:B.getKernel,isEnabled:n})}(i,0,u,x),k.addCommand(B.createNew,{label:e=>{var o,t,n;const l=e.kernelName||"";return e.isLauncher&&e.kernelName&&g.kernelspecs?null!==(n=null===(t=null===(o=g.kernelspecs.specs)||void 0===o?void 0:o.kernelspecs[l])||void 0===t?void 0:t.display_name)&&void 0!==n?n:"":e.isPalette||e.isContextMenu?m.__("New Notebook"):m.__("Notebook")},caption:m.__("Create a new notebook"),icon:e=>e.isPalette?void 0:w.notebookIcon,execute:e=>{var o;return(async(e,o)=>{const t=await k.execute("docmanager:new-untitled",{path:e,type:"notebook"});if(null!=t){const e=await k.execute("docmanager:open",{path:t.path,factory:R,kernel:{name:o}});return e.isUntitled=!0,e}})(e.cwd||(null!==(o=null==n?void 0:n.model.path)&&void 0!==o?o:""),e.kernelName||"")}}),r&&g.ready.then((()=>{let e=null;const o=()=>{e&&(e.dispose(),e=null);const o=g.kernelspecs.specs;if(o){e=new E.DisposableSet;for(const t in o.kernelspecs){const n=t===o.default?0:1/0,l=o.kernelspecs[t],a=l.resources["logo-svg"]||l.resources["logo-64x64"];e.add(r.add({command:B.createNew,args:{isLauncher:!0,kernelName:t},category:m.__("Notebook"),rank:n,kernelIconUrl:a,metadata:{kernel:S.JSONExt.deepCopy(l.metadata||{})}}))}}};o(),g.kernelspecs.specsChanged.connect(o)})),v},autoStart:!0},L={id:"@jupyterlab/notebook-extension:factory",provides:p.NotebookPanel.IContentFactory,requires:[r.IEditorServices],autoStart:!0,activate:(e,o)=>{const t=o.factoryService.newInlineEditor;return new p.NotebookPanel.ContentFactory({editorFactory:t})}},W={activate:function(e,o,t,n,l,a){const r=l.load("jupyterlab"),d="notebook-tools",i=new p.NotebookTools({tracker:o,translator:l}),s=new p.NotebookTools.ActiveCellTool,c=p.NotebookTools.createEditableToggle(l),u=p.NotebookTools.createSlideShowSelector(l),b=p.NotebookTools.createToCBaseNumbering(l),m=t.factoryService.newInlineEditor,g=new p.NotebookTools.CellMetadataEditorTool({editorFactory:m,collapsed:!1,translator:l}),k=new p.NotebookTools.NotebookMetadataEditorTool({editorFactory:m,translator:l});return e.serviceManager.nbconvert.getExportFormats().then((e=>{if(e){const o=["pdf","slides","script","notebook","custom"];let t=[[r.__("PDF"),"pdf"],[r.__("Slides"),"slides"],[r.__("Script"),"script"],[r.__("Notebook"),"notebook"],[r.__("Custom"),"custom"]];const n=Object.keys(e),a=te.getFormatLabels(l);n.forEach((function(n){if(-1===o.indexOf(n)){const o=r.__(n[0].toUpperCase()+n.substr(1)),l=a[n]?a[n]:o,d=e[n].output_mimetype;t.push([l,d])}}));const d=p.NotebookTools.createNBConvertSelector(t,l);i.addItem({tool:d,section:"common",rank:3})}})),i.title.icon=w.buildIcon,i.title.caption=r.__("Notebook Tools"),i.id=d,i.addItem({tool:s,section:"common",rank:1}),i.addItem({tool:c,section:"common",rank:2}),i.addItem({tool:u,section:"common",rank:3}),i.addItem({tool:b,section:"common",rank:4}),i.addItem({tool:g,section:"advanced",rank:1}),i.addItem({tool:k,section:"advanced",rank:2}),N.MessageLoop.installMessageHook(i,((e,o)=>{switch(o.type){case"activate-request":n.save(d,{open:!0});break;case"after-hide":case"close-request":n.remove(d)}return!0})),a&&o.widgetAdded.connect(((e,o)=>{a.register(o).render(i)})),i},provides:p.INotebookTools,id:"@jupyterlab/notebook-extension:tools",autoStart:!0,requires:[p.INotebookTracker,r.IEditorServices,x.IStateDB,_.ITranslator],optional:[k.IPropertyInspectorProvider]},D={id:"@jupyterlab/notebook-extension:mode-status",autoStart:!0,requires:[p.INotebookTracker,_.ITranslator],optional:[f.IStatusBar],activate:(e,o,t,n)=>{if(!n)return;const{shell:l}=e,a=new p.CommandEditStatus(t);o.currentChanged.connect((()=>{const e=o.currentWidget;a.model.notebook=e&&e.content})),n.registerStatusItem("@jupyterlab/notebook-extension:mode-status",{item:a,align:"right",rank:4,isActive:()=>!!l.currentWidget&&!!o.currentWidget&&l.currentWidget===o.currentWidget})}},F={id:"@jupyterlab/notebook-extension:execution-indicator",autoStart:!0,requires:[p.INotebookTracker,n.ILabShell,_.ITranslator],optional:[f.IStatusBar,v.ISettingRegistry],activate:(e,o,t,n,l,a)=>{let r,d,i;const s=e=>{var a,s;let{showOnToolBar:c,showProgress:u}=e;if(c)i&&(t.currentChanged.disconnect(d),i.dispose());else{if(!l)return;(null==r?void 0:r.model)||(r=new p.ExecutionIndicator(n),d=(e,t)=>{const{newValue:n}=t;if(n&&o.has(n)){const e=n;r.model.attachNotebook({content:e.content,context:e.sessionContext})}},i=l.registerStatusItem("@jupyterlab/notebook-extension:execution-indicator",{item:r,align:"left",rank:3,isActive:()=>{const e=t.currentWidget;return!!e&&o.has(e)}}),r.model.attachNotebook({content:null===(a=o.currentWidget)||void 0===a?void 0:a.content,context:null===(s=o.currentWidget)||void 0===s?void 0:s.sessionContext}),t.currentChanged.connect(d),r.disposed.connect((()=>{t.currentChanged.disconnect(d)}))),r.model.displayOption={showOnToolBar:c,showProgress:u}}};if(a){const o=a.load(P.id);Promise.all([o,e.restored]).then((([e])=>{s(p.ExecutionIndicator.getSettingValue(e)),e.changed.connect((e=>s(p.ExecutionIndicator.getSettingValue(e))))})).catch((e=>{console.error(e.message)}))}}},K={id:"@jupyterlab/notebook-extension:export",autoStart:!0,requires:[_.ITranslator,p.INotebookTracker],optional:[g.IMainMenu,l.ICommandPalette],activate:(e,o,t,n,l)=>{var a;const r=o.load("jupyterlab"),{commands:i,shell:s}=e,c=e.serviceManager;let u;i.addCommand(B.exportToFormat,{label:e=>{if(void 0===e.label)return r.__("Save and Export Notebook to the given `format`.");const o=e.label;return e.isPalette?r.__("Save and Export Notebook: %1",o):o},execute:e=>{const o=oe(t,s,e);if(!o)return;const n=d.PageConfig.getNBConvertURL({format:e.format,download:!0,path:o.context.path}),{context:l}=o;return l.model.dirty&&!l.model.readOnly?l.save().then((()=>{window.open(n,"_blank","noopener")})):new Promise((e=>{window.open(n,"_blank","noopener"),e(void 0)}))},isEnabled:()=>te.isEnabled(s,t)}),n&&(u=null===(a=n.fileMenu.items.find((e=>{var o;return"submenu"===e.type&&"jp-mainmenu-file-notebookexport"===(null===(o=e.submenu)||void 0===o?void 0:o.id)})))||void 0===a?void 0:a.submenu),c.nbconvert.getExportFormats().then((e=>{if(e){const t=te.getFormatLabels(o);Object.keys(e).forEach((function(e){const o=r.__(e[0].toUpperCase()+e.substr(1)),n=t[e]?t[e]:o;let a={format:e,label:n,isPalette:!1};if(-1===j.indexOf(e)&&(u&&u.addItem({command:B.exportToFormat,args:a}),l)){a={format:e,label:n,isPalette:!0};const o=r.__("Notebook Operations");l.addItem({command:B.exportToFormat,category:o,args:a})}}))}}))}},U={id:"@jupyterlab/notebook-extension:trust-status",autoStart:!0,requires:[p.INotebookTracker,_.ITranslator],optional:[f.IStatusBar],activate:(e,o,t,n)=>{if(!n)return;const{shell:l}=e,a=new p.NotebookTrustStatus(t);o.currentChanged.connect((()=>{const e=o.currentWidget;a.model.notebook=e&&e.content})),n.registerStatusItem("@jupyterlab/notebook-extension:trust-status",{item:a,align:"right",rank:3,isActive:()=>!!l.currentWidget&&!!o.currentWidget&&l.currentWidget===o.currentWidget})}},q={id:"@jupyterlab/notebook-extension:widget-factory",provides:p.INotebookWidgetFactory,requires:[p.NotebookPanel.IContentFactory,r.IEditorServices,C.IRenderMimeRegistry,l.ISessionContextDialogs,l.IToolbarWidgetRegistry,_.ITranslator],optional:[v.ISettingRegistry],activate:function(e,o,t,n,a,r,i,c){const u=d.PageConfig.getOption("notebookStartsKernel"),b=""===u||"true"===u.toLowerCase(),{commands:m}=e;let g;r.addFactory(R,"save",(e=>s.ToolbarItems.createSaveButton(m,e.context.fileChanged))),r.addFactory(R,"cellType",(e=>p.ToolbarItems.createCellTypeItem(e,i))),r.addFactory(R,"kernelName",(e=>l.Toolbar.createKernelNameItem(e.sessionContext,a,i))),r.addFactory(R,"executionProgress",(e=>{const o=null==c?void 0:c.load(P.id),t=p.ExecutionIndicator.createExecutionIndicatorItem(e,i,o);return null==o||o.then((o=>{e.disposed.connect((()=>{o.dispose()}))})),t})),c&&(g=(0,l.createToolbarFactory)(r,c,R,"@jupyterlab/notebook-extension:panel",i));const k=i.load("jupyterlab"),C=new p.NotebookWidgetFactory({name:R,label:k.__("Notebook"),fileTypes:["notebook"],modelName:"notebook",defaultFor:["notebook"],preferKernel:b,canStartKernel:!0,rendermime:n,contentFactory:o,editorConfig:p.StaticNotebook.defaultEditorConfig,notebookConfig:p.StaticNotebook.defaultNotebookConfig,mimeTypeService:t.mimeTypeService,sessionDialogs:a,toolbarFactory:g,translator:i});return e.docRegistry.addWidgetFactory(C),C},autoStart:!0},V={id:"@jupyterlab/notebook-extension:cloned-outputs",requires:[i.IDocumentManager,p.INotebookTracker,_.ITranslator],optional:[n.ILayoutRestorer],activate:function(e,o,t,n,a){const r=n.load("jupyterlab"),d=new l.WidgetTracker({namespace:"cloned-outputs"});a&&a.restore(d,{command:B.createOutputView,args:e=>({path:e.content.path,index:e.content.index}),name:e=>`${e.content.path}:${e.content.index}`,when:t.restored});const{commands:i,shell:s}=e;i.addCommand(B.createOutputView,{label:r.__("Create New View for Cell Output"),execute:async e=>{var a;let r,i;const s=e.path;let c=e.index;if(s&&null!=c){if(i=o.findWidget(s,R),!i)return}else{if(i=t.currentWidget,!i)return;r=i.content.activeCell,c=i.content.activeCellIndex}const u=new te.ClonedOutputArea({notebook:i,cell:r,index:c,translator:n}),b=new l.MainAreaWidget({content:u});i.context.addSibling(b,{ref:i.id,mode:"split-bottom",type:"Cloned Output"});const m=()=>{d.save(b)};i.context.pathChanged.connect(m),null===(a=i.context.model)||void 0===a||a.cells.changed.connect(m),d.add(b),i.content.disposed.connect((()=>{var e;i.context.pathChanged.disconnect(m),null===(e=i.context.model)||void 0===e||e.cells.changed.disconnect(m),b.dispose()}))},isEnabled:()=>te.isEnabledAndSingleSelected(s,t)})},autoStart:!0},$={id:"@jupyterlab/notebook-extension:code-console",requires:[p.INotebookTracker,_.ITranslator],activate:function(e,o,t){const n=t.load("jupyterlab"),{commands:l,shell:a}=e,r=()=>te.isEnabled(a,o);l.addCommand(B.createConsole,{label:n.__("New Console for Notebook"),execute:e=>{const t=o.currentWidget;if(t)return te.createConsole(l,t,e.activate)},isEnabled:r}),l.addCommand(B.runInConsole,{label:n.__("Run Selected Text or Current Line in Console"),execute:async e=>{var t,n;const a=o.currentWidget;if(!a)return;const{context:r,content:d}=a,i=d.activeCell,s=null==i?void 0:i.model.metadata,c=r.path;if(!i||"code"!==i.model.type)return;let u;const b=i.editor;if(!b)return;const m=b.getSelection(),{start:g,end:p}=m;if(g.column!==p.column||g.line!==p.line){const e=b.getOffsetAt(m.start),o=b.getOffsetAt(m.end);u=b.model.sharedModel.getSource().substring(e,o)}else{const e=b.getCursorPosition(),o=b.model.sharedModel.getSource().split("\n");let l=m.start.line;for(;l<b.lineCount&&!o[l].replace(/\s/g,"").length;)l+=1;let r=l>0,d=0,i=d+1;for(;;){u=o.slice(d,i).join("\n");const s=await(null===(n=null===(t=a.context.sessionContext.session)||void 0===t?void 0:t.kernel)||void 0===n?void 0:n.requestIsComplete({code:u+"\n\n"}));if("complete"===(null==s?void 0:s.content.status)){if(l<i){for(;i<b.lineCount&&!o[i].replace(/\s/g,"").length;)i+=1;b.setCursorPosition({line:i,column:e.column});break}d=i,i=d+1}else if(i<b.lineCount)i+=1;else{if(!r){for(u=o[l];l+1<b.lineCount&&!o[l+1].replace(/\s/g,"").length;)l+=1;b.setCursorPosition({line:l+1,column:e.column});break}d=l,i=l+1,r=!1}}}u&&(await l.execute("console:open",{activate:!1,insertMode:"split-bottom",path:c}),await l.execute("console:inject",{activate:!1,code:u,path:c,metadata:s}))},isEnabled:r})},autoStart:!0},z={id:"@jupyterlab/notebook-extension:copy-output",activate:function(e,o,t){const n=o.load("jupyterlab");e.commands.addCommand(B.copyToClipboard,{label:n.__("Copy Output to Clipboard"),execute:e=>{var o;const n=null===(o=t.currentWidget)||void 0===o?void 0:o.content.activeCell;if(null==n)return;const l=n.outputArea.outputTracker.currentWidget;if(null==l)return;const a=l.node.getElementsByClassName("jp-OutputArea-output");a.length>0&&function(e){const o=window.getSelection();if(null==o)return;const t=[];for(let e=0;e<o.rangeCount;++e)t[e]=o.getRangeAt(e).cloneRange();const n=document.createRange();n.selectNodeContents(e),o.removeAllRanges(),o.addRange(n),document.execCommand("copy"),o.removeAllRanges(),t.forEach((e=>o.addRange(e)))}(a[0])}}),e.contextMenu.addItem({command:B.copyToClipboard,selector:".jp-OutputArea-child",rank:0})},requires:[_.ITranslator,p.INotebookTracker],autoStart:!0},J={id:"@jupyterlab/notebook-extension:kernel-status",activate:(e,o,t)=>{t.addSessionProvider((e=>e&&o.has(e)?e.sessionContext:null))},requires:[p.INotebookTracker,l.IKernelStatusModel],autoStart:!0},Y={id:"@jupyterlab/notebook-extension:cursor-position",activate:(e,o,t)=>{let n=null;t.addEditorProvider((async e=>{let l=null;if(e!==n){if(null==n||n.content.activeCellChanged.disconnect(t.update),n=null,e&&o.has(e)){e.content.activeCellChanged.connect(t.update);const o=e.content.activeCell;l=null,o&&(await o.ready,l=o.editor),n=e}}else if(e){const o=e.content.activeCell;l=null,o&&(await o.ready,l=o.editor)}return l}))},requires:[p.INotebookTracker,r.IPositionModel],autoStart:!0},G={id:"@jupyterlab/notebook-extension:completer",requires:[p.INotebookTracker],optional:[A.ICompletionProviderManager,_.ITranslator,l.ISanitizer],activate:function(e,o,t,n,a){if(!t)return;const r=(null!=n?n:_.nullTranslator).load("jupyterlab"),d=null!=a?a:new l.Sanitizer;e.commands.addCommand(B.invokeCompleter,{label:r.__("Display the completion helper."),execute:e=>{var n;const l=o.currentWidget;l&&"code"===(null===(n=l.content.activeCell)||void 0===n?void 0:n.model.type)&&t.invoke(l.id)}}),e.commands.addCommand(B.selectCompleter,{label:r.__("Select the completion suggestion."),execute:()=>{const e=o.currentWidget&&o.currentWidget.id;if(e)return t.select(e)}}),e.commands.addKeyBinding({command:B.selectCompleter,keys:["Enter"],selector:".jp-Notebook .jp-mod-completer-active"});const i=async(e,o)=>{var n,l;const a={editor:null!==(l=null===(n=o.content.activeCell)||void 0===n?void 0:n.editor)&&void 0!==l?l:null,session:o.sessionContext.session,widget:o,sanitizer:d};await t.updateCompleter(a),o.content.activeCellChanged.connect(((e,n)=>{null==n||n.ready.then((()=>{const e={editor:n.editor,session:o.sessionContext.session,widget:o,sanitizer:d};return t.updateCompleter(e)})).catch(console.error)})),o.sessionContext.sessionChanged.connect((()=>{var e;null===(e=o.content.activeCell)||void 0===e||e.ready.then((()=>{var e,n;const l={editor:null!==(n=null===(e=o.content.activeCell)||void 0===e?void 0:e.editor)&&void 0!==n?n:null,session:o.sessionContext.session,widget:o};return t.updateCompleter(l)})).catch(console.error)}))};o.widgetAdded.connect(i),t.activeProvidersChanged.connect((()=>{o.forEach((e=>{i(0,e).catch((e=>console.error(e)))}))}))},autoStart:!0},X={id:"@jupyterlab/notebook-extension:search",requires:[c.ISearchProviderRegistry],autoStart:!0,activate:(e,o)=>{o.add("jp-notebookSearchProvider",p.NotebookSearchProvider)}},Q={id:"@jupyterlab/notebook-extension:toc",requires:[p.INotebookTracker,h.ITableOfContentsRegistry,l.ISanitizer],optional:[C.IMarkdownParser],autoStart:!0,activate:(e,o,t,n,l)=>{t.add(new p.NotebookToCFactory(o,l,n))}},Z={id:"@jupyterlab/notebook-extension:language-server",requires:[p.INotebookTracker,m.ILSPDocumentConnectionManager,m.ILSPFeatureManager,m.ILSPCodeExtractorsManager],activate:function(e,o,t,n,l){o.widgetAdded.connect((async(e,o)=>{const a=new p.NotebookAdapter(o,{connectionManager:t,featureManager:n,foreignCodeExtractorsManager:l});t.registerAdapter(o.context.path,a)}))},autoStart:!0},ee=[L,P,F,K,W,D,U,q,O,V,$,z,J,Y,G,X,Q,Z];function oe(e,o,t){const n=e.currentWidget;return!1!==t.activate&&n&&o.activateById(n.id),n}var te;!function(e){e.createConsole=function(e,o,t){const n={path:o.context.path,preferredLanguage:o.context.model.defaultKernelLanguage,activate:t,ref:o.id,insertMode:"split-bottom",type:"Linked Console"};return e.execute("console:create",n)},e.isEnabled=function(e,o){return null!==o.currentWidget&&o.currentWidget===e.currentWidget},e.isEnabledAndSingleSelected=function(o,t){if(!e.isEnabled(o,t))return!1;const{content:n}=t.currentWidget,l=n.activeCellIndex;for(let e=0;e<n.widgets.length;++e)if(n.isSelected(n.widgets[e])&&e!==l)return!1;return!0},e.isEnabledAndHeadingSelected=function(o,t){if(!e.isEnabled(o,t))return!1;const{content:n}=t.currentWidget,l=n.activeCellIndex;if(!(n.activeCell instanceof a.MarkdownCell))return!1;for(let e=0;e<n.widgets.length;++e)if(n.isSelected(n.widgets[e])&&e!==l)return!1;return!0},e.getFormatLabels=function(e){const o=(e=e||_.nullTranslator).load("jupyterlab");return{html:o.__("HTML"),latex:o.__("LaTeX"),markdown:o.__("Markdown"),pdf:o.__("PDF"),rst:o.__("ReStructured Text"),script:o.__("Executable Script"),slides:o.__("Reveal.js Slides")}},e.raiseSilentNotification=function(e,o){const t=`sr-message-container-${o.id}`,n=document.getElementById(t)||document.createElement("div");n.getAttribute("id")!==t&&(n.classList.add("sr-only"),n.setAttribute("id",t),n.setAttribute("role","alert"),n.hidden=!0,o.appendChild(n)),n.innerText=e};class o extends I.Panel{constructor(e){super(),this._cell=null;const o=(e.translator||_.nullTranslator).load("jupyterlab");this._notebook=e.notebook,this._index=void 0!==e.index?e.index:-1,this._cell=e.cell||null,this.id=`LinkedOutputView-${S.UUID.uuid4()}`,this.title.label="Output View",this.title.icon=w.notebookIcon,this.title.caption=this._notebook.title.label?o.__("For Notebook: %1",this._notebook.title.label):o.__("For Notebook:"),this.addClass("jp-LinkedOutputView"),this._notebook.context.ready.then((()=>{if(this._cell||(this._cell=this._notebook.content.widgets[this._index]),!this._cell||"code"!==this._cell.model.type)return void this.dispose();const e=this._cell.cloneOutputArea();this.addWidget(e)}))}get index(){return this._cell?y.ArrayExt.findFirstIndex(this._notebook.content.widgets,(e=>e===this._cell)):this._index}get path(){return this._notebook.context.path}}e.ClonedOutputArea=o}(te||(te={}))}}]);