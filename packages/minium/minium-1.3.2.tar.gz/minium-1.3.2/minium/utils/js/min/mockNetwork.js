function mockNetwork(){if(!global["__minium_%(interface)s_network_mocked"]){function e(s,i){if(typeof s!=typeof i)return!1;switch(typeof s){case"string":return!!new RegExp(s).exec(i);case"number":return s===i;case"object":if(s instanceof Array){if(s.length!=i.length)return!1;for(var c=0;c<s.length;c++)if(!e(s[c],i[c]))return!1;return!0}for(var t in s)if("success"!=t&&"fail"!=t&&"complete"!=t&&"_miniMockType"!=t){if(void 0===i[t])return!1;if(!e(s[t],i[t]))return!1}return!0}return!1}Object.defineProperty(global,"__minium_%(interface)s_network_mocked",{value:!0,writable:!1}),global["__minium_%(interface)sTask"]=class{constructor(e,s,i){this.success=e,this.fail=s,this.callback=i,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),i(this.success||this.fail)}))}abort(){}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var s=wx["%(interface)s"];Object.defineProperty(wx,"%(interface)s",{configurable:!0,get:()=>function(i){for(var c=0;c<global["__minium_%(interface)s_network_mock_rule"].length;c++){var t=global["__minium_%(interface)s_network_mock_rule"][c];if(e(t,i)){if(1===t._miniMockType&&([t]=global["__minium_%(interface)s_network_mock_rule"].splice(c,1)),console.log("@@@@rule match",t),t.success)return new global["__minium_%(interface)sTask"](t.success,void 0,(e=>{i.success&&i.success(e),i.complete&&i.complete(e)}));if(t.fail)return new global["__minium_%(interface)sTask"](void 0,t.fail,(e=>{i.fail&&i.fail(e),i.complete&&i.complete(e)}));if(1===t._miniMockType)return}}return s(i)}})}}
