Metadata-Version: 2.1
Name: np-session
Version: 0.1.1
Summary: Tools for managing files and metadata associated with ecephys and behavior sessions for the Mindscope Neuropixels team.
Author: Ben Hardcastle
Author-email: ben.hardcastle@alleninstitute.org
Requires-Python: >=3.7,<4.0
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Provides-Extra: dev
Requires-Dist: black ; extra == "dev"
Requires-Dist: isort ; extra == "dev"
Requires-Dist: mypy ; extra == "dev"
Requires-Dist: np_config
Requires-Dist: pip-tools ; extra == "dev"
Requires-Dist: poetry ; extra == "dev"
Requires-Dist: psycopg2-binary (>=2.9,<3.0)
Requires-Dist: pytest ; extra == "dev"
Requires-Dist: requests
Requires-Dist: typing-extensions
Description-Content-Type: text/markdown

```python
from np_session import Session

# initialize with a lims session ID or a string containing one: 
>>> session = Session('c:/1116941914_surface-image1-left.png') 
>>> session.id
'1116941914'
>>> session.folder
'1116941914_576323_20210721'
>>> session.project
'BrainTV Neuropixels Visual Behavior'
>>> session.is_ecephys_session
True

# some properties are objects with richer information:

# - `pathlib` objects for filesystem paths:
>>> session.lims_path.as_posix()
'//allen/programs/braintv/production/visualbehavior/prod0/specimen_1098595957/ecephys_session_1116941914'
>>> session.data_dict['es_id']
'1116941914'

# - `datetime` objects for easy date manipulation:
>>> session.date
datetime.date(2021, 7, 21)

# - dictionaries from databases (loaded lazily):
>>> session.mouse['id']
1098595953
>>> session.mouse['full_genotype']
'wt/wt'
>>> session.lims['stimulus_name']
'EPHYS_1_images_H_3uL_reward'
>>> session.mtrain

# - rig info (see `np_config.Rig`)
>>> session.rig.acq
'W10DT713843'

# with useful string representation:
>>> str(session.mouse)
'576323'
>>> str(session)
'1116941914_576323_20210721'
>>> str(session.rig)
'NP.0'
```
