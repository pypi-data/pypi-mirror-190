(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4249],{58122:function(e,n,t){"use strict";t.d(n,{CL:function(){return f},FS:function(){return h},JZ:function(){return b},e7:function(){return v},v0:function(){return p},wx:function(){return g}});var r=t(12757),i=t(82394),o=t(43313),c=t(93348),u=t(32151),a=t(90211),l=t(84779);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e){var n=e.statistics,t=Object.keys(n),r=Array(o.Dy.length).fill(0);return 0===t.length?null:(t.forEach((function(e){if(o.Dy.includes(e)){var t=o.CC[e],i=n[e],c=i,u=!1,a=[2,3],s=o.Ub[e],d=o.oH[e],p=o.OD[e];if(o.y_.includes(e))u=!0,a=[2,1,2];else if(e in o.Sq){i=(0,l.Jw)(i,0);var f=o.Sq[e];c=n[f]}var h={columnFlexNumbers:a,name:t,progress:u,rate:c,successDirection:d,warning:p};o.y_.includes(e)||(h.value=i),r[s]=h}})),r)}function f(e){var n=e.columnTypes,t=void 0===n?{}:n,r=e.statistics,i=Object.keys(r);if(0===i.length)return null;var c=Object.values(t),l=c.length,s=[];s.push({name:"Column count",successDirection:o.oH.column_count,value:(0,a.x6)(l)}),i.forEach((function(e){if(o.Zu.includes(e)){var n=o.CC[e],t=r[e],i=o.OD[e];s.push({name:n,successDirection:o.oH[e],value:(0,a.x6)(t),warning:i})}}));var d=(0,u.QO)(c),p=d.countCategory,f=d.countDatetime,h=d.countNumerical;return s.push({name:"Categorical Features",rate:p/l,value:(0,a.x6)(p)},{name:"Numerical Features",rate:h/l,value:(0,a.x6)(h)},{name:"Datetime Features",rate:f/l,value:(0,a.x6)(f)}),s}function h(e){return"string"===typeof e?e:JSON.stringify(e)}function g(e,n){var t,r;return null===e||void 0===e||null===(t=e.find((function(e){var t=e.block;return n(t)})))||void 0===t||null===(r=t.variables)||void 0===r?void 0:r.map((function(e){var n=e.value;return d(d({},e),{},{value:h(n)})}))}function b(e,n){return n===c.Xm.TIME?e.push({uuid:"execution_date",value:"<run datetime>"}):n===c.Xm.EVENT&&e.push({uuid:"event",value:"<trigger event>"}),e}function v(e){return e?Object.entries(e).reduce((function(e,n){var t=(0,r.Z)(n,2),o=t[0],c=t[1],u=c;try{u=JSON.parse(c)}catch(a){}return d(d({},e),{},(0,i.Z)({},o,u))}),{}):e}},93348:function(e,n,t){"use strict";t.d(n,{U5:function(){return u},Xm:function(){return i},Z4:function(){return a},fq:function(){return c}});var r,i,o=t(82394);!function(e){e.API="api",e.EVENT="event",e.TIME="time"}(i||(i={}));var c,u,a=(r={},(0,o.Z)(r,i.API,(function(){return"API"})),(0,o.Z)(r,i.EVENT,(function(){return"event"})),(0,o.Z)(r,i.TIME,(function(){return"schedule"})),r);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(c||(c={})),function(e){e.ONCE="@once",e.HOURLY="@hourly",e.DAILY="@daily",e.WEEKLY="@weekly",e.MONTHLY="@monthly"}(u||(u={}))},29237:function(e,n,t){"use strict";var r=t(9518),i=t(67971),o=t(86673),c=t(19711),u=t(31969),a=t(73942),l=t(37391),s=t(49125),d=t(28598),p=1.75,f=(0,r.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],p*s.iI,1.5*s.iI,1.5*s.iI),h=r.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;width:100%;"," "," "," "," "," ",""],a.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||u.Z.background).panel,";\n    border: 1px solid ").concat((e.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),g=r.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," ",""],a.n_,a.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||u.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),f),b=r.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],p*s.iI,l.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*s.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),v=r.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],a.M8,a.YF,p*s.iI);n.Z=function(e){var n=e.borderless,t=e.children,r=e.containerRef,u=e.contentContainerRef,a=e.footer,l=e.fullHeight,s=void 0===l||l,p=e.header,f=e.headerHeight,m=e.headerIcon,x=e.headerTitle,j=e.maxHeight,y=e.noPadding,O=e.overflowVisible,w=e.subtitle,Z=e.minWidth;return(0,d.jsxs)(h,{borderless:n,fullHeight:s,maxHeight:j,minWidth:Z,overflowVisible:O,ref:r,children:[(p||x)&&(0,d.jsxs)(g,{height:f,children:[p&&p,x&&(0,d.jsx)(i.Z,{alignItems:"center",justifyContent:"space-between",children:(0,d.jsxs)(i.Z,{alignItems:"center",children:[m&&m,(0,d.jsx)(o.Z,{ml:m?1:0,children:(0,d.jsx)(c.ZP,{bold:!0,default:!0,children:x})})]})})]}),(0,d.jsxs)(b,{maxHeight:j,noPadding:y,overflowVisible:O,ref:u,children:[w&&(0,d.jsx)(o.Z,{mb:2,children:(0,d.jsx)(c.ZP,{default:!0,children:w})}),t]}),a&&(0,d.jsx)(v,{children:a})]})}},82944:function(e,n,t){"use strict";var r=t(82394),i=t(91835),o=t(82684),c=t(9518),u=t(69898),a=t(28598);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=c.default.input.withConfig({displayName:"TextInput__TextInputStyle",componentId:"sc-1ii4qtc-0"})(["",""],u.p),p=function(e,n){var t=(0,i.Z)({},e);return(0,a.jsx)(u.Z,s(s({},t),{},{input:(0,a.jsx)(d,s({},t)),ref:n}))};n.Z=o.forwardRef(p)},70902:function(e,n,t){"use strict";var r=t(82394),i=t(26304),o=t(82684),c=t(9518),u=t(69898),a=t(23831),l=t(28598),s=["checked","onCheck"];function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=c.default.label.withConfig({displayName:"ToggleSwitch__ToggleSwitchStyle",componentId:"sc-179r5zs-0"})([""," position:relative;display:inline-block;width:","px;min-width:","px;height:",'px;& input[type="checkbox"]{display:none;}& span{position:absolute;cursor:',";background-color:",";border-radius:13px;",';top:0;right:0;bottom:0;left:0;transition:background-color 0.2s ease;}& span::before{position:absolute;content:"";left:2px;top:2px;width:22px;height:22px;background-color:#787A85;border-radius:50%;transition:transform 0.3s ease;}& input[type="checkbox"]:checked + span::before{transform:translateX(20px);}',""],u.p,46,46,26,(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.disabled?a.Z.monotone.white:a.Z.monotone.black}),(function(e){return e.disabled&&"border: 1px solid ".concat(a.Z.monotone.grey200)}),(function(e){return!e.disabled&&'\n    & input[type="checkbox"]:checked + span {\n      background-color: #6AA1E0;\n    }\n\n    & input[type="checkbox"]:checked + span::before {\n      background-color: '.concat(a.Z.monotone.white,";\n    }\n  ")})),h=function(e,n){var t=e.checked,r=e.onCheck,o=(0,i.Z)(e,s);return(0,l.jsx)(u.Z,p(p({},o),{},{input:(0,l.jsxs)(f,p(p({},o),{},{noBackground:!0,noBorder:!0,children:[(0,l.jsx)("input",{checked:t,type:"checkbox"}),(0,l.jsx)("span",{onClick:function(){return r((function(e){return!e}))}})]})),noBackground:!0,ref:n}))};n.Z=o.forwardRef(h)},56312:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ge}});var r=t(77837),i=t(82394),o=t(12757),c=t(38860),u=t.n(c),a=t(12691),l=t.n(a),s=t(82684),d=t(83455),p=t(34376),f=t(60328),h=t(47999),g=t(86532),b=t(34744),v=t(67971),m=t(87372),x=t(11135),j=t(10919),y=t(76623),O=t(93348),w=t(62609),Z=t(29237),_=t(86673),P=t(17903),k=t(19711),C=t(26304),I=t(9518),S=t(69898),D=t(28598),E=["rows"];function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var A=I.default.textarea.withConfig({displayName:"TextArea__TextInputStyle",componentId:"sc-112wx63-0"})(["",""],S.p),H=function(e,n){var t=e.rows,r=void 0===t?3:t,i=(0,C.Z)(e,E);return(0,D.jsx)(S.Z,N(N({},i),{},{input:(0,D.jsx)(A,N({rows:r},i)),ref:n}))},V=s.forwardRef(H),Y=t(82944),M=t(70902),R=t(23831),B=t(73942),F=t(49125),q=I.default.div.withConfig({displayName:"indexstyle__ToggleStyle",componentId:"sc-f9kt7n-0"})(["padding:","px ","px;border-radius:","px;",""],1.5*F.iI,2*F.iI,B.n_,(function(e){return"\n    border: 1px solid ".concat((e.theme||R.Z).borders.light,";\n    background-color: ").concat((e.theme||R.Z).background.popup,";\n  ")})),z=t(90211),J=t(58122);function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var X="".concat(F.iI,"px ").concat(3*F.iI,"px");var U=function(e){var n=e.initialPipelineSchedulePayload,t=e.onCancel,r=e.onSuccess,c=e.variables,u=(0,s.useState)(!1),a=u[0],l=u[1],d=(0,s.useState)({}),p=d[0],h=d[1],g=(0,s.useState)(c||{}),b=g[0],x=g[1],j=(0,s.useMemo)((function(){return W(W({},n),{},{variables:a?(0,J.e7)(b):null})}),[n,a,b]),y=function(e,n){var t={borderless:!0,key:"variable_uuid_input_".concat(e),monospace:!0,onChange:function(n){n.preventDefault(),x((function(t){return W(W({},t),{},(0,i.Z)({},e,n.target.value))}))},paddingHorizontal:0,placeholder:"Variable value",value:n};return p[e]?(0,D.jsx)(V,W(W({},t),{},{rows:1,value:n})):(0,D.jsx)(Y.Z,W({},t))};return(0,s.useEffect)((function(){var e=Object.entries(b).reduce((function(e,n){var t=(0,o.Z)(n,2),r=t[0],c=t[1],u=(0,z.Pb)(c)&&"object"===typeof JSON.parse(c)&&!Array.isArray(JSON.parse(c))&&null!==JSON.parse(c);return W(W({},e),{},(0,i.Z)({},r,u))}),{});h(e)}),[]),(0,D.jsxs)(Z.Z,{footer:(0,D.jsxs)(v.Z,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:[(0,D.jsx)(f.Z,{onClick:function(){r({pipeline_schedule:j}),t()},padding:X,primaryAlternate:!0,children:"Run now"}),(0,D.jsx)(_.Z,{mr:1}),(0,D.jsx)(f.Z,{borderColor:R.Z.background.page,onClick:t,padding:X,secondary:!0,children:"Cancel"})]}),header:(0,D.jsx)(m.Z,{level:5,children:"Run pipeline now"}),maxHeight:"90vh",minWidth:85*F.iI,subtitle:"Creates a new trigger and immediately runs the current pipeline once.",children:[(0,D.jsx)(q,{children:(0,D.jsxs)(v.Z,{alignItems:"center",children:[(0,D.jsx)(_.Z,{mr:2,children:(0,D.jsx)(M.Z,{checked:a,onCheck:l})}),(0,D.jsx)(k.ZP,{bold:!0,large:!0,children:"Overwrite runtime variables"})]})}),a&&b&&Object.entries(b).length>0&&(0,D.jsx)(_.Z,{mt:2,children:(0,D.jsx)(P.Z,{columnFlex:[null,1],columns:[{uuid:"Variable"},{uuid:"Value"}],rows:Object.entries(b).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return[(0,D.jsx)(k.ZP,{default:!0,monospace:!0,children:t},"variable_".concat(t)),y(t,r)]}))})})]})},G=t(37391),Q=I.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1xgfh62-0"})(["border-bottom:1px solid ",";padding:","px;"],R.Z.borders.medium,F.tr),$=I.default.div.withConfig({displayName:"indexstyle__CardsStyle",componentId:"sc-1xgfh62-1"})([""," height:80px;display:flex;overflow-x:scroll;"],G.w5),K=I.default.div.withConfig({displayName:"indexstyle__VariableCardStyle",componentId:"sc-1xgfh62-2"})(["background-color:",";border-radius:","px;flex-shrink:0;margin-right:","px;padding:","px;"],R.Z.background.output,B.n_,F.iI,F.tr),ee=t(73899);var ne=function(e){var n=e.hasOverride,t=e.scheduleType,r=e.variables,i=e.variablesOverride,c=[];return Object.entries(r).forEach((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1],u=null===i||void 0===i?void 0:i[t];c.push({uuid:t,value:(0,J.FS)(u||r)})})),(0,J.JZ)(c,t),(0,D.jsxs)(Q,{children:[(0,D.jsx)(_.Z,{mb:2,children:(0,D.jsxs)(k.ZP,{bold:!0,large:!0,monospace:!0,muted:!0,children:["Runtime variables",n&&" (override)"]})}),(0,D.jsx)($,{noScrollbarTrackBackground:!0,children:r&&c.map((function(e){var n=e.uuid,t=e.value;return(0,D.jsxs)(K,{children:[(0,D.jsx)(k.ZP,{monospace:!0,small:!0,children:n}),(0,D.jsx)(k.ZP,{color:ee.Or,monospace:!0,small:!0,children:(0,J.FS)(t)})]})}))})]})},te=t(46261),re=t(55170),ie=t(10503),oe=t(59920),ce=t(42305),ue=t(7715),ae=t(96510),le=t(66653),se=t(83608),de=t(24141);function pe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function fe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pe(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function he(e){var n=e.pipeline,t=(0,p.useRouter)(),r=n.uuid,c=(0,s.useState)(null),u=c[0],a=c[1],Z=(0,de.i)().height,C=re.ZP.variables.pipelines.list(r).data,I=null===C||void 0===C?void 0:C.variables,S=re.ZP.pipeline_schedules.pipelines.list(r,{},{refreshInterval:7500}),E=S.data,T=S.mutate,N=(0,s.useMemo)((function(){return(null===E||void 0===E?void 0:E.pipeline_schedules)||[]}),[E]),A=function(e){return(0,d.Db)(re.ZP.pipeline_schedules.pipelines.useCreate(r),{onSuccess:function(n){return(0,ae.wD)(n,{callback:function(n){var t=n.pipeline_schedule.id;null===e||void 0===e||e(t)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}})},H=A((function(e){return t.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(null===n||void 0===n?void 0:n.uuid,"/triggers/").concat(e,"/edit"))})),V=(0,o.Z)(H,2),Y=V[0],M=V[1].isLoading,R=A(T),B=(0,o.Z)(R,2),q=B[0],L=B[1].isLoading,W=(0,s.useMemo)((function(){var e;return null===(e=(0,J.wx)(I,(function(e){return"global"===e.uuid})))||void 0===e?void 0:e.reduce((function(e,n){var t=n.uuid,r=n.value;return fe(fe({},e),{},(0,i.Z)({},t,r))}),{})}),[I]),X={name:(0,z.Y6)(),schedule_interval:O.U5.ONCE,schedule_type:O.Xm.TIME,start_time:(0,ce.d$)((new Date).toISOString(),{dayAgo:!0,utcFormat:!0}),status:O.fq.ACTIVE},G=(0,se.dd)((function(){return(0,D.jsx)(U,{initialPipelineSchedulePayload:X,onCancel:K,onSuccess:q,variables:W})}),{},[I,W],{background:!0,uuid:"run_pipeline_now_popup"}),Q=(0,o.Z)(G,2),$=Q[0],K=Q[1],ee=(0,d.Db)((function(e){return re.ZP.pipeline_schedules.useUpdate(e.id)({pipeline_schedule:e})}),{onSuccess:function(e){return(0,ae.wD)(e,{callback:function(){T()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),pe=(0,o.Z)(ee,1)[0],he=(0,d.Db)((function(e){return re.ZP.pipeline_schedules.useDelete(e)()}),{onSuccess:function(e){return(0,ae.wD)(e,{callback:function(){T(),t.push("/pipelines/[pipeline]/triggers","/pipelines/".concat(r,"/triggers"))}})}}),ge=(0,o.Z)(he,1)[0],be=(0,s.useState)(),ve=be[0],me=be[1],xe=(0,s.useMemo)((function(){var e=null===ve||void 0===ve?void 0:ve.variables,n=!(0,ue.Qr)(e),t=n?null===ve||void 0===ve?void 0:ve.variables:(0,ue.Qr)(W)?null:W;return function(i){var o=i.height-(t?151:0);return(0,D.jsxs)(D.Fragment,{children:[t&&(0,D.jsx)(ne,{hasOverride:n,scheduleType:null===ve||void 0===ve?void 0:ve.schedule_type,variables:W,variablesOverride:e}),!t&&(0,D.jsxs)(_.Z,{p:F.cd,children:[(0,D.jsx)(k.ZP,{children:"This pipeline has no runtime variables."}),(0,D.jsxs)(_.Z,{mt:1,children:[(0,D.jsx)(l(),{as:"/pipelines/".concat(r,"/edit?sideview=variables"),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,D.jsx)(j.Z,{children:"Click here"})})," ",(0,D.jsx)(k.ZP,{inline:!0,children:"to add variables to this pipeline."})]})]}),(0,D.jsx)(g.Z,fe(fe({},i),{},{height:o,noStatus:!0}))]})}}),[I,ve]);return(0,D.jsxs)(y.Z,{breadcrumbs:[{label:function(){return"Triggers"}}],buildSidekick:xe,pageName:oe.M.TRIGGERS,pipeline:n,subheaderBackgroundImage:"/images/banner-shape-purple-peach.jpg",subheaderButton:(0,D.jsx)(x.ZP,{beforeElement:(0,D.jsx)(ie.mm,{size:2.5*F.iI}),blackBorder:!0,inline:!0,loading:M,noHoverUnderline:!0,onClick:function(){return Y({pipeline_schedule:{name:(0,z.Y6)()}})},sameColorAsText:!0,uuid:"PipelineDetailPage/add_new_schedule",children:"Create new trigger"}),subheaderText:(0,D.jsx)(k.ZP,{bold:!0,large:!0,children:"Run this pipeline using a schedule, event, or API."}),title:function(e){var n=e.name;return"".concat(n," triggers")},uuid:"".concat(oe.M.TRIGGERS,"_").concat(r),children:[(0,D.jsx)(_.Z,{mt:F.cd,px:F.cd,children:(0,D.jsxs)(v.Z,{justifyContent:"space-between",children:[(0,D.jsx)(m.Z,{level:5,children:"Pipeline triggers"}),(0,D.jsx)(te.Z,{appearBefore:!0,default:!0,fullSize:!0,label:"Creates an @once trigger and runs pipeline immediately",widthFitContent:!0,children:(0,D.jsx)(f.Z,{beforeIcon:(0,D.jsx)(ie.JM,{inverted:!0,size:2*F.iI}),loading:L,onClick:(0,ue.Qr)(W)?function(){return q({pipeline_schedule:X})}:$,outline:!0,success:!0,children:"Run pipeline now"})})]})}),(0,D.jsx)(b.Z,{light:!0,mt:F.cd,short:!0}),(0,D.jsx)(P.Z,{columnFlex:[null,1,1,3,1,null,null,null],columns:[{label:function(){return""},uuid:"action"},{uuid:"Status"},{uuid:"Type"},{uuid:"Name"},{uuid:"Frequency"},{uuid:"Runs"},{uuid:"Latest run status"},{uuid:"Logs"},{label:function(){return""},uuid:"edit/delete"}],isSelectedRow:function(e){return N[e].id===(null===ve||void 0===ve?void 0:ve.id)},onClickRow:function(e){return me(N[e])},rows:N.map((function(e,n){var i,o=e.id,c=e.pipeline_runs_count,s=e.last_pipeline_run_status,d=e.name,p=e.schedule_interval,g=e.status;return[(0,D.jsx)(f.Z,{iconOnly:!0,noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(n){(0,le.j)(n),pe({id:e.id,status:O.fq.ACTIVE===g?O.fq.INACTIVE:O.fq.ACTIVE})},children:O.fq.ACTIVE===g?(0,D.jsx)(ie.dz,{muted:!0,size:2*F.iI}):(0,D.jsx)(ie.Py,{default:!0,size:2*F.iI})},"toggle_trigger_".concat(n)),(0,D.jsx)(k.ZP,{default:O.fq.INACTIVE===g,monospace:!0,success:O.fq.ACTIVE===g,children:g},"trigger_status_".concat(n)),(0,D.jsx)(k.ZP,{default:!0,monospace:!0,children:null===(i=O.Z4[e.schedule_type])||void 0===i?void 0:i.call(O.Z4)},"trigger_type_".concat(n)),(0,D.jsx)(l(),{as:"/pipelines/".concat(r,"/triggers/").concat(o),href:"/pipelines/[pipeline]/triggers/[...slug]",passHref:!0,children:(0,D.jsx)(j.Z,{bold:!0,onClick:function(e){(0,le.j)(e),t.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(r,"/triggers/").concat(o))},sameColorAsText:!0,children:d})},"trigger_name_".concat(n)),(0,D.jsx)(k.ZP,{default:!0,monospace:!0,children:p},"trigger_frequency_".concat(n)),(0,D.jsx)(k.ZP,{default:!0,monospace:!0,children:c},"trigger_run_count_".concat(n)),(0,D.jsx)(k.ZP,{default:!0,monospace:!0,children:s||"N/A"},"latest_run_status_".concat(n)),(0,D.jsx)(f.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return t.push("/pipelines/".concat(r,"/logs?pipeline_schedule_id[]=").concat(o))},children:(0,D.jsx)(ie.B4,{default:!0,size:2*F.iI})},"logs_button_".concat(n)),(0,D.jsxs)(v.Z,{children:[(0,D.jsx)(f.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return t.push("/pipelines/".concat(r,"/triggers/").concat(o,"/edit"))},title:"Edit",children:(0,D.jsx)(ie.I8,{default:!0,size:2*F.iI})}),(0,D.jsx)(_.Z,{mr:1}),(0,D.jsx)(f.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return a(o)},title:"Delete",children:(0,D.jsx)(ie.rF,{default:!0,size:2*F.iI})}),(0,D.jsx)(h.Z,{onClickOutside:function(){return a(null)},open:u===o,children:(0,D.jsx)(w.Z,{danger:!0,onCancel:function(){return a(null)},onClick:function(){a(null),ge(o)},right:2*F.iI,title:"Are you sure you want to delete the trigger ".concat(d,"?"),top:Z/2-16*F.iI,width:40*F.iI})})]},"edit_delete_buttons_".concat(n))]})),uuid:"pipeline-triggers"})]})}he.getInitialProps=function(){var e=(0,r.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.pipeline,e.abrupt("return",{pipeline:{uuid:t}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var ge=he},42305:function(e,n,t){"use strict";t.d(n,{A5:function(){return d},AY:function(){return p},BP:function(){return s},JX:function(){return l},OC:function(){return o},Pc:function(){return f},d$:function(){return a},lJ:function(){return h},n1:function(){return u}});var r=t(92083),i=t.n(r),o="YYYY-MM-DD HH:mm:SS",c="YYYY-MM-DD HH:mm",u="YYYY-MM-DD";function a(e,n){var t=n.utcFormat,r=n.dayAgo,o=i()(e);return t&&(o=o.utc()),r&&(o=o.subtract(1,"days")),o.format(c)}function l(e){return i().unix(e).format(c)}function s(e,n,t){return i()(e).utc().hours(+n).minutes(+t).format()}function d(e){return i()(e).unix()}function p(e,n,t){return"".concat(e.toISOString().split("T")[0]," ").concat(n,":").concat(t)}function f(e){var n=i().unix(+e).utc();return{date:n.toDate(),hour:String(n.hour()),minute:String(n.minute())}}function h(e){return e.padStart(2,"0")}},40183:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/triggers",function(){return t(56312)}])}},function(e){e.O(0,[4259,2212,7689,6674,806,5872,1774,5170,714,9767,3323,1770,9898,6623,2151,5703,9774,2888,179],(function(){return n=40183,e(e.s=n);var n}));var n=e.O();_N_E=n}]);