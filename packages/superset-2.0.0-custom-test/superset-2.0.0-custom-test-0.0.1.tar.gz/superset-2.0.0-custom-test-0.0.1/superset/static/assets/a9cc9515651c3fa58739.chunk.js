(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[3496],{32132:function(e,t){var r,a;r=function(e){var t={time:{month:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthAbbr:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],dayOfWeekAbbr:["вс","пн","вт","ср","чт","пт","сб"]},legend:{selector:{all:"Всё",inverse:"Обратить"}},toolbox:{brush:{title:{rect:"Выделить область",polygon:"Инструмент «Лассо»",lineX:"Горизонтальное выделение",lineY:"Вертикальное выделение",keep:"Оставить выбранное",clear:"Очистить выбранное"}},dataView:{title:"Данные",lang:["Данные","Закрыть","Обновить"]},dataZoom:{title:{zoom:"Увеличить",back:"Сбросить увеличение"}},magicType:{title:{line:"Переключиться на линейный график",bar:"Переключиться на столбчатую диаграмму",stack:"Стопка",tiled:"Плитка"}},restore:{title:"Восстановить"},saveAsImage:{title:"Сохранить картинку",lang:["Правый клик, чтобы сохранить картинку"]}},series:{typeNames:{pie:"Круговая диаграмма",bar:"Столбчатая диаграмма",line:"Линейный график",scatter:"Точечная диаграмма",effectScatter:"Точечная диаграмма с волнами",radar:"Лепестковая диаграмма",tree:"Дерево",treemap:"Плоское дерево",boxplot:"Ящик с усами",candlestick:"Свечной график",k:"График К-линий",heatmap:"Тепловая карта",map:"Карта",parallel:"Диаграмма параллельных координат",lines:"Линейный граф",graph:"Граф отношений",sankey:"Диаграмма Санкей",funnel:"Воронкообразная диаграмма",gauge:"Шкала",pictorialBar:"Столбец-картинка",themeRiver:"Тематическая река",sunburst:"Солнечные лучи"}},aria:{general:{withTitle:'Это график, показывающий "{title}"',withoutTitle:"Это график"},series:{single:{prefix:"",withName:" с типом {seriesType} и именем {seriesName}.",withoutName:" с типом {seriesType}."},multiple:{prefix:". Он состоит из {seriesCount} серий.",withName:" Серия {seriesId} имеет тип {seriesType} и показывает {seriesName}.",withoutName:" Серия {seriesId} имеет тип {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"Данные таковы: ",partialData:"Первые {displayCnt} элементов: ",withName:"значение для {name} — {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},void 0===(a=r.apply(t,[t]))||(e.exports=a)},33496:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(67294),i=r(63475),l=r(11965);function n({height:e,width:t,echartOptions:r,setDataMask:n,labelMap:s,groupby:c,selectedValues:u,formData:o}){const h=(0,a.useCallback)((e=>{if(!o.emitFilter)return;const t=e.map((e=>s[e]));n({extraFormData:{filters:0===e.length?[]:c.map(((e,r)=>{const a=t.map((e=>e[r]));return null==a?{col:e,op:"IS NULL"}:{col:e,op:"IN",val:a}}))},filterState:{value:t.length?t:null,selectedValues:e.length?e:null}})}),[c,s,n,u]),d={click:e=>{const{name:t}=e,r=Object.values(u);r.includes(t)?h(r.filter((e=>e!==t))):h([t])}};return(0,l.tZ)(i.Z,{height:e,width:t,echartOptions:r,eventHandlers:d,selectedValues:u})}},63475:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var a=r(67294),i=r(51995),l=r(95225),n=r(32132),s=r.n(n),c=r(73917),u=r(11965);c.I2("RU",s());const o=i.iK.div`
  height: ${({height:e})=>e};
  width: ${({width:e})=>e};
`;function h({width:e,height:t,echartOptions:r,eventHandlers:i,zrEventHandlers:n,selectedValues:s={}},c){const h=(0,a.useRef)(null),d=(0,a.useRef)(),p=(0,a.useMemo)((()=>Object.keys(s)||[]),[s]),f=(0,a.useRef)([]);return(0,a.useImperativeHandle)(c,(()=>({getEchartInstance:()=>d.current}))),(0,a.useEffect)((()=>{h.current&&(d.current||(d.current=(0,l.S1)(h.current,void 0,{locale:"RU"})),Object.entries(i||{}).forEach((([e,t])=>{var r,a;null==(r=d.current)||r.off(e),null==(a=d.current)||a.on(e,t)})),Object.entries(n||{}).forEach((([e,t])=>{var r,a;null==(r=d.current)||r.getZr().off(e),null==(a=d.current)||a.getZr().on(e,t)})),d.current.setOption(r,!0))}),[r,i,n]),(0,a.useEffect)((()=>{d.current&&(d.current.dispatchAction({type:"downplay",dataIndex:f.current.filter((e=>!p.includes(e)))}),p.length&&d.current.dispatchAction({type:"highlight",dataIndex:p}),f.current=p)}),[p]),(0,a.useEffect)((()=>{d.current&&d.current.resize({width:e,height:t})}),[e,t]),(0,u.tZ)(o,{ref:h,height:t,width:e})}const d=(0,a.forwardRef)(h)}}]);
//# sourceMappingURL=a9cc9515651c3fa58739.chunk.js.map