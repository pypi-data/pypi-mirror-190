(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[704],{32132:function(e,t){var r,a;r=function(e){var t={time:{month:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthAbbr:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],dayOfWeekAbbr:["вс","пн","вт","ср","чт","пт","сб"]},legend:{selector:{all:"Всё",inverse:"Обратить"}},toolbox:{brush:{title:{rect:"Выделить область",polygon:"Инструмент «Лассо»",lineX:"Горизонтальное выделение",lineY:"Вертикальное выделение",keep:"Оставить выбранное",clear:"Очистить выбранное"}},dataView:{title:"Данные",lang:["Данные","Закрыть","Обновить"]},dataZoom:{title:{zoom:"Увеличить",back:"Сбросить увеличение"}},magicType:{title:{line:"Переключиться на линейный график",bar:"Переключиться на столбчатую диаграмму",stack:"Стопка",tiled:"Плитка"}},restore:{title:"Восстановить"},saveAsImage:{title:"Сохранить картинку",lang:["Правый клик, чтобы сохранить картинку"]}},series:{typeNames:{pie:"Круговая диаграмма",bar:"Столбчатая диаграмма",line:"Линейный график",scatter:"Точечная диаграмма",effectScatter:"Точечная диаграмма с волнами",radar:"Лепестковая диаграмма",tree:"Дерево",treemap:"Плоское дерево",boxplot:"Ящик с усами",candlestick:"Свечной график",k:"График К-линий",heatmap:"Тепловая карта",map:"Карта",parallel:"Диаграмма параллельных координат",lines:"Линейный граф",graph:"Граф отношений",sankey:"Диаграмма Санкей",funnel:"Воронкообразная диаграмма",gauge:"Шкала",pictorialBar:"Столбец-картинка",themeRiver:"Тематическая река",sunburst:"Солнечные лучи"}},aria:{general:{withTitle:'Это график, показывающий "{title}"',withoutTitle:"Это график"},series:{single:{prefix:"",withName:" с типом {seriesType} и именем {seriesName}.",withoutName:" с типом {seriesType}."},multiple:{prefix:". Он состоит из {seriesCount} серий.",withName:" Серия {seriesId} имеет тип {seriesType} и показывает {seriesName}.",withoutName:" Серия {seriesId} имеет тип {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"Данные таковы: ",partialData:"Первые {displayCnt} элементов: ",withName:"значение для {name} — {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},void 0===(a=r.apply(t,[t]))||(e.exports=a)},33738:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(67294),i=r(63475),l=r(6915),s=r(11965);function n({height:e,width:t,echartOptions:r,setDataMask:n,labelMap:u,labelMapB:c,groupby:o,groupbyB:h,selectedValues:d,formData:p,seriesBreakdown:m}){const f=(0,a.useCallback)((e=>e<m),[m]),g=(0,a.useCallback)(((e,t)=>{if(!(f(t)?p.emitFilter:p.emitFilterB))return;const r=f(t)?o:h,a=f(t)?u:c,i=e.map((e=>a[e])).filter((e=>!!e));n({extraFormData:{filters:0===e.length?[]:[...r.map(((e,t)=>{const r=i.map((e=>e[t]));return null==r?{col:e,op:"IS NULL"}:{col:e,op:"IN",val:r}}))]},filterState:{value:i.length?i:null,selectedValues:e.length?e:null}})}),[o,h,u,c,n,d]),b={click:e=>{const{seriesName:t,seriesIndex:r}=e,a=Object.values(d);a.includes(t)?g(a.filter((e=>e!==t)),r):g([t],r)},mouseout:()=>{l.aI.name=""},mouseover:e=>{l.aI.name=e.seriesName}};return(0,s.tZ)(i.Z,{height:e,width:t,echartOptions:r,eventHandlers:b,selectedValues:d})}},63475:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var a=r(67294),i=r(51995),l=r(95225),s=r(32132),n=r.n(s),u=r(73917),c=r(11965);u.I2("RU",n());const o=i.iK.div`
  height: ${({height:e})=>e};
  width: ${({width:e})=>e};
`;function h({width:e,height:t,echartOptions:r,eventHandlers:i,zrEventHandlers:s,selectedValues:n={}},u){const h=(0,a.useRef)(null),d=(0,a.useRef)(),p=(0,a.useMemo)((()=>Object.keys(n)||[]),[n]),m=(0,a.useRef)([]);return(0,a.useImperativeHandle)(u,(()=>({getEchartInstance:()=>d.current}))),(0,a.useEffect)((()=>{h.current&&(d.current||(d.current=(0,l.S1)(h.current,void 0,{locale:"RU"})),Object.entries(i||{}).forEach((([e,t])=>{var r,a;null==(r=d.current)||r.off(e),null==(a=d.current)||a.on(e,t)})),Object.entries(s||{}).forEach((([e,t])=>{var r,a;null==(r=d.current)||r.getZr().off(e),null==(a=d.current)||a.getZr().on(e,t)})),d.current.setOption(r,!0))}),[r,i,s]),(0,a.useEffect)((()=>{d.current&&(d.current.dispatchAction({type:"downplay",dataIndex:m.current.filter((e=>!p.includes(e)))}),p.length&&d.current.dispatchAction({type:"highlight",dataIndex:p}),m.current=p)}),[p]),(0,a.useEffect)((()=>{d.current&&d.current.resize({width:e,height:t})}),[e,t]),(0,c.tZ)(o,{ref:h,height:t,width:e})}const d=(0,a.forwardRef)(h)}}]);
//# sourceMappingURL=a0982b26f80f1eb1a5ea.chunk.js.map