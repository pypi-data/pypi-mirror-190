!function(){function e(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function n(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach((function(e){r(n,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}function r(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function t(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(a.push(t.value),!n||a.length!==n);i=!0);}catch(l){u=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(e,n)||i(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var t=0,o=function(){};return{s:o,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw a}}}}function i(e,n){if(e){if("string"==typeof e)return u(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,n):void 0}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}System.register(["vue","vue-content-loader"],(function(e,r){"use strict";var i,u,l,c,f,s,p,d,g,h,v,m,y,w,b,x,S;return{setters:[function(e){i=e.defineComponent,u=e.computed,l=e.openBlock,c=e.createElementBlock,f=e.createElementVNode,s=e.withModifiers,p=e.toDisplayString,d=e.normalizeClass,g=e.Fragment,h=e.renderList,v=e.resolveComponent,m=e.createBlock,y=e.withCtx,w=e.ref,b=e.createTextVNode,x=e.createCommentVNode},function(e){S=e.ContentLoader}],execute:function(){var e;function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o(Array(e).keys()).map((function(e){return e+n}))}function P(e,n){var t=function(e){return r(e)}(n),o=function(e){return Math.max(e-3,2)}(e);if(n<=2)return[];var a=r(function(e,n){return Math.min(7,e.length-2,3+n-1,3+e.length-n)}(t,e),o);return a.includes(2)||a.unshift(null),a.includes(n-1)||a.push(null),a}var z=function(e,n){var r,o=e.__vccOpts||e,i=a(n);try{for(i.s();!(r=i.n()).done;){var u=t(r.value,2),l=u[0],c=u[1];o[l]=c}}catch(f){i.e(f)}finally{i.f()}return o},k=i({props:{page:{type:Number,default:1},changePage:{type:Function,required:!0},pageSize:{type:Number,default:20},totalResults:{type:Number,required:!0}},setup:function(e){var n=u((function(){return Math.ceil(e.totalResults/e.pageSize)})),r=u((function(){return P(e.page,n.value)}));return{pageCount:n,visiblePages:r,onClick:function(n){if(n!==e.page)return e.changePage(n)},nextPage:function(){var r=e.page+1;if(r<=n.value)return e.changePage(r)},previousPage:function(){var n=e.page-1;if(n>0)return e.changePage(n)}}}}),_={role:"navigation",class:"fr-pagination fr-pagination--centered","aria-label":"Pagination"},C={class:"fr-pagination__list"},E=["href"],j=["href"],O=["aria-current","href","title"],T=["aria-current","href","title","onClick","data-page"],$={key:1,class:"fr-pagination__link fr-hidden fr-unhidden-lg"},A=["aria-current","href","title","data-page"],B=["href"],D=["href"];var U=z(k,[["render",function(e,n,r,t,o,a){return l(),c("nav",_,[f("ul",C,[f("li",null,[f("a",{href:1===e.page?void 0:"#",class:"fr-pagination__link fr-pagination__link--first",onClick:n[0]||(n[0]=s((function(n){return e.onClick(1)}),["prevent"]))},p(e.$t("First page")),9,E)]),f("li",null,[f("a",{href:1===e.page?void 0:"#",class:"fr-pagination__link fr-pagination__link--prev fr-pagination__link--lg-label",onClick:n[1]||(n[1]=s((function(){return e.previousPage&&e.previousPage.apply(e,arguments)}),["prevent"]))},p(e.$t("Previous page")),9,j)]),f("li",null,[f("a",{"aria-current":1===e.page?"page":void 0,href:1===e.page?void 0:"#",class:d(["fr-pagination__link",{"fr-hidden fr-unhidden-sm":e.page>1}]),title:e.$t("Page",{nb:1}),onClick:n[2]||(n[2]=s((function(n){return e.onClick(1)}),["prevent"])),"data-page":1}," 1 ",10,O)]),(l(!0),c(g,null,h(e.visiblePages,(function(n){return l(),c("li",null,[n?(l(),c("a",{key:0,class:d(["fr-pagination__link",{"fr-hidden fr-unhidden-lg":n<e.page-1||n>e.page+1}]),"aria-current":e.page===n?"page":void 0,href:e.page===n?void 0:"#",title:e.$t("Page",{nb:n}),onClick:s((function(r){return e.onClick(n)}),["prevent"]),"data-page":n},p(n),11,T)):(l(),c("a",$," â€¦ "))])})),256)),f("li",null,[f("a",{class:"fr-pagination__link","aria-current":e.page===e.pageCount?"page":void 0,href:e.page===e.pageCount?void 0:"#",title:e.$t("Page",{nb:e.pageCount}),onClick:n[3]||(n[3]=s((function(n){return e.onClick(e.pageCount)}),["prevent"])),"data-page":e.pageCount},p(e.pageCount),9,A)]),f("li",null,[f("a",{class:"fr-pagination__link fr-pagination__link--next fr-pagination__link--lg-label",href:e.page===e.pageCount?void 0:"#",onClick:n[4]||(n[4]=s((function(){return e.nextPage&&e.nextPage.apply(e,arguments)}),["prevent"]))},p(e.$t("Next page")),9,B)]),f("li",null,[f("a",{class:"fr-pagination__link fr-pagination__link--last",href:e.page===e.pageCount?void 0:"#",onClick:n[5]||(n[5]=s((function(n){return e.onClick(e.pageCount)}),["prevent"]))},p(e.$t("Last page")),9,D)])])])}]]),L=null!==(e=globalThis.udata_front)&&void 0!==e?e:{components:{},translations:[]};globalThis.udata_front=L;var N={csvapiUrl:null,dataEndpoint:null,filters:[],page:1,pageSize:10,sortBy:null,sortDesc:!1,totalRows:0};function R(e){N=n(n({},N),e)}function I(e){if(N.page=e,N.page-1<=N.totalRows/N.pageSize)return M("page")}function Y(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return N.sortBy=e,N.sortDesc=n,M("sort")}function M(e){var n=function(e){var n=0;if(e&&"page"===e?n=N.pageSize*(N.page-1):N.page=1,!N.dataEndpoint)throw Error("No dataEndpoint configured. Use configure() before to add it.");var r=new URL(N.dataEndpoint);if(r.searchParams.set("_shape","objects"),r.searchParams.set("_rowid","hide"),r.searchParams.set("_size",N.pageSize.toString()),r.searchParams.set("_offset",n.toString()),N.filters.forEach((function(e){var n=e.field,t=e.value,o=e.comp;r.searchParams.set("".concat(n,"__").concat(o),t)})),N.sortBy){var t=N.sortDesc?"_sort_desc":"_sort";r.searchParams.set(t,N.sortBy)}return r}(e);return fetch(n.toString()).then((function(e){var n=e.json();return e.ok||Promise.reject(n),n}))}function q(e){if(!N.csvapiUrl)throw Error("No csvapiUrl configured. Use configure() before to add it.");var n=new URL(N.csvapiUrl);return n.pathname="/apify",n.searchParams.set("url",encodeURI(e)),n.searchParams.set("analysis","yes"),fetch(n.toString()).then((function(e){var n=e.json();return e.ok||Promise.reject(n),n}))}function F(e){return function(e,n){var r=document.querySelector(e);return r?r.getAttribute(n):null}("meta[name=".concat(e,"]"),"content")}var V=F("tabular-csvapi-url"),G=F("tabular-page-size"),H=i({components:{ContentLoader:S},setup:function(){return{getY:function(e){return 20+56*e}}}}),J=f("rect",{x:"16",y:"16",rx:"4",ry:"4",width:"112",height:"24"},null,-1),K=f("rect",{x:"160",y:"16",rx:"4",ry:"4",width:"116",height:"24"},null,-1),Q=f("rect",{x:"308",y:"16",rx:"4",ry:"4",width:"140",height:"24"},null,-1),W=f("rect",{x:"480",y:"16",rx:"4",ry:"4",width:"106",height:"24"},null,-1),X=f("rect",{x:"618",y:"16",rx:"4",ry:"4",width:"140",height:"24"},null,-1),Z=f("rect",{x:"790",y:"16",rx:"4",ry:"4",width:"144",height:"24"},null,-1),ee=f("rect",{x:"966",y:"16",rx:"4",ry:"4",width:"142",height:"24"},null,-1),ne=f("rect",{x:"4",y:"56",rx:"4",ry:"4",width:"1116",height:"4"},null,-1),re=["y"],te=["y"],oe=["y"],ae=["y"],ie=["y"],ue=["y"],le=["y"];var ce=i({components:{Loader:z(H,[["render",function(e,n,r,t,o,a){var i=v("ContentLoader");return l(),m(i,{width:1124,height:300,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:y((function(){return[J,K,Q,W,X,Z,ee,ne,(l(),c(g,null,h(5,(function(n){return l(),c(g,null,[f("rect",{x:"16",y:e.getY(n),rx:"4",ry:"4",width:"112",height:"32"},null,8,re),f("rect",{x:"160",y:e.getY(n),rx:"4",ry:"4",width:"116",height:"32"},null,8,te),f("rect",{x:"308",y:e.getY(n),rx:"4",ry:"4",width:"140",height:"32"},null,8,oe),f("rect",{x:"480",y:e.getY(n),rx:"4",ry:"4",width:"106",height:"32"},null,8,ae),f("rect",{x:"618",y:e.getY(n),rx:"4",ry:"4",width:"140",height:"32"},null,8,ie),f("rect",{x:"790",y:e.getY(n),rx:"4",ry:"4",width:"144",height:"32"},null,8,ue),f("rect",{x:"966",y:e.getY(n),rx:"4",ry:"4",width:"142",height:"32"},null,8,le)],64)})),64))]})),_:1})}]]),Pagination:U},props:{resource:{type:Object,required:!0}},setup:function(e){var n=w([]),r=w([]),t=w(0),o=w(null),a=w(!0),i=w(!1),l=w(1),c=w(null),f=Number.parseInt(null!=G?G:"10"),s=w(null),p=w(!1),d=u((function(){return{csvapiUrl:V,dataEndpoint:c.value,filters:[],page:l.value,pageSize:f,sortBy:s.value,sortDesc:p.value,totalRows:t.value}})),g=function(e){e.ok?(r.value=e.rows,n.value=e.columns,t.value=e.total,o.value=e.columns.length):i.value=!0};return R(d.value),q(e.resource.url).then((function(e){if(e.ok)return c.value=e.endpoint,a.value=!0,R(d.value),M("apify").then((function(e){g(e)})).catch((function(){return i.value=!0})).finally((function(){return a.value=!1}));i.value=!0,a.value=!1})).catch((function(){i.value=!0,a.value=!1})),{hasError:i,loading:a,columns:n,rows:r,rowCount:t,columnCount:o,sortbyfield:function(e){return s.value==e?p.value=!p.value:p.value=!1,s.value=e,R(d.value),Y(s.value,p.value).then((function(e){g(e),l.value=1})).catch((function(){return i.value=!0})).finally((function(){return a.value=!1}))},isSortedBy:function(e){return e===s.value},sortDesc:p,currentPage:l,pageSize:f,changeExplorePage:function(e){R(d.value);var n=I(e);n&&n.then(g).catch((function(){return i.value=!0})).finally((function(){return a.value=!1})),l.value=e}}}}),fe={key:0,class:"bg-alt-green-tilleul-verveine fr-p-3v fr-my-2w"},se={class:"fr-grid-row fr-m-0"},pe=f("span",{class:"fr-icon-warning-line","aria-hidden":"true"},null,-1),de={class:"fr-table fr-table--no-background fr-p-0 fr-pt-0-5v fr-m-0"},ge={class:"fr-mb-3w"},he={class:"fr-sr-only"},ve={scope:"col"},me={class:"fr-grid-row fr-grid-row--middle no-wrap"},ye=["onClick"],we={class:"fr-sr-only"},be={class:"fr-grid-row fr-grid-row--gutters fr-grid-row--middle fr-px-5v"},xe={class:"fr-col"},Se={class:"fr-col-auto"},Pe=["href"];!function(e,n,r,t){L.components[e]||(L.components[e]=[]);var o={component:n,hook:e,module:r,name:t};L.components[e].push(o)}("explore",z(ce,[["render",function(e,n,r,t,o,a){var i=v("Loader"),u=v("Pagination");return l(),c(g,null,[e.hasError?(l(),c("div",fe,[f("p",se,[pe,b(" "+p(e.$t("The preview of this file failed to load.")),1)])])):x("",!0),e.loading?(l(),m(i,{key:1})):x("",!0),e.hasError||e.loading?x("",!0):(l(),c(g,{key:2},[f("div",de,[f("table",ge,[f("caption",he,p(e.$t("Preview of {name}",{name:e.resource.title})),1),f("thead",null,[f("tr",null,[(l(!0),c(g,null,h(e.columns,(function(n){return l(),c("th",ve,[f("div",me,[f("button",{class:d(["fr-btn fr-btn--sm fr-btn--tertiary-no-outline fr-my-n1w",{"fr-btn--secondary-grey-500":!e.isSortedBy(n),"fr-btn--icon-right":e.isSortedBy(n),"fr-icon-arrow-down-line":e.isSortedBy(n)&&e.sortDesc,"fr-icon-arrow-up-line":e.isSortedBy(n)&&!e.sortDesc}]),onClick:function(r){return e.sortbyfield(n)}},[b(p(n)+" ",1),f("span",we,p(e.sortDesc?e.$t("Sort ascending"):e.$t("Sort descending")),1)],10,ye)])])})),256))])]),f("tbody",null,[(l(!0),c(g,null,h(e.rows,(function(n){return l(),c("tr",null,[(l(!0),c(g,null,h(e.columns,(function(e){return l(),c("td",null,p(n[e]),1)})),256))])})),256))])])]),e.rowCount>e.pageSize?(l(),m(u,{key:0,class:"fr-mt-3w",page:e.currentPage,pageSize:e.pageSize,totalResults:e.rowCount,changePage:e.changeExplorePage},null,8,["page","pageSize","totalResults","changePage"])):x("",!0),f("div",be,[f("div",xe,p(e.$t("{count} columns",e.columnCount))+" â€” "+p(e.$t("{count} rows",e.rowCount)),1),f("div",Se,[f("a",{href:e.resource.preview_url,class:"fr-btn fr-btn--icon-left fr-icon-test-tube-line"},p(e.$t("Explore data")),9,Pe)])])],64))],64)}]]),"udata-tabular-preview","explore"),function(e,n){var r={messages:e,module:n};L.translations.push(r)}({en:{"Preview of {name}":function(e){return(0,e.normalize)(["Preview of ",(0,e.interpolate)((0,e.named)("name"))])},"{count} columns":function(e){var n=e.normalize,r=e.interpolate,t=e.named;return(0,e.plural)([n([r(t("count"))," columns"]),n([r(t("count"))," column"]),n([r(t("count"))," columns"])])},"Explore data":function(e){return(0,e.normalize)(["Explore data"])},"The preview of this file failed to load.":function(e){return(0,e.normalize)(["The preview of this file failed to load."])},"{count} rows":function(e){var n=e.normalize,r=e.interpolate,t=e.named;return(0,e.plural)([n([r(t("count"))," rows"]),n([r(t("count"))," row"]),n([r(t("count"))," rows"])])},"Sort ascending":function(e){return(0,e.normalize)(["Sort ascending"])},"Sort descending":function(e){return(0,e.normalize)(["Sort descending"])}},es:{"Preview of {name}":function(e){return(0,e.normalize)([])},"{count} columns":function(e){return(0,e.normalize)([])},"Explore data":function(e){return(0,e.normalize)([])},"The preview of this file failed to load.":function(e){return(0,e.normalize)([])},"{count} rows":function(e){return(0,e.normalize)([])},"Sort ascending":function(e){return(0,e.normalize)([])},"Sort descending":function(e){return(0,e.normalize)([])}},fr:{"Preview of {name}":function(e){return(0,e.normalize)(["PrÃ©visualisation de ",(0,e.interpolate)((0,e.named)("name"))])},"{count} columns":function(e){var n=e.normalize,r=e.interpolate,t=e.named;return(0,e.plural)([n([r(t("count"))," colonnes"]),n([r(t("count"))," colonne"]),n([r(t("count"))," colonnes"])])},"Explore data":function(e){return(0,e.normalize)(["Explorer les donnÃ©es"])},"The preview of this file failed to load.":function(e){return(0,e.normalize)(["La prÃ©visualisation de ce fichier n'a pas pu Ãªtre chargÃ©e."])},"{count} rows":function(e){var n=e.normalize,r=e.interpolate,t=e.named;return(0,e.plural)([n([r(t("count"))," lignes"]),n([r(t("count"))," ligne"]),n([r(t("count"))," lignes"])])},"Sort ascending":function(e){return(0,e.normalize)(["Trier par ordre croissant"])},"Sort descending":function(e){return(0,e.normalize)(["Trier par ordre dÃ©croissant"])}},it:{"Preview of {name}":function(e){return(0,e.normalize)([])},"{count} columns":function(e){return(0,e.normalize)([])},"Explore data":function(e){return(0,e.normalize)([])},"The preview of this file failed to load.":function(e){return(0,e.normalize)([])},"Sort ascending":function(e){return(0,e.normalize)([])},"Sort descending":function(e){return(0,e.normalize)([])},"Showing the first {shown} of {count} rows":function(e){return(0,e.normalize)([])}},sr:{"Preview of {name}":function(e){return(0,e.normalize)([])},"{count} columns":function(e){return(0,e.normalize)([])},"Explore data":function(e){return(0,e.normalize)([])},"The preview of this file failed to load.":function(e){return(0,e.normalize)([])},"Sort ascending":function(e){return(0,e.normalize)([])},"Sort descending":function(e){return(0,e.normalize)([])},"Showing the first {shown} of {count} rows":function(e){return(0,e.normalize)([])}}},"udata-tabular-preview")}}}))}();
