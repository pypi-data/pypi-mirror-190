<odoo>
  <data>
    <!-- Inherit invoice report (from module account) -->
    <template id="report_invoice_document_inherit" inherit_id="account.report_invoice_document">
      <!-- Add Receipt header when using a certain diari -->
      <xpath expr="//h2" position="replace">
        <h2>
          <t t-if="o.journal_xml_ref == 'account_journal_vh_receipts'">
            <span t-if="o.type == 'out_refund'">Receipt Credit Note</span>
            <span t-else="">Receipt</span>
          </t>
          <t t-else="">
            <span t-if="o.type == 'out_invoice' and o.state in ('open', 'in_payment', 'paid')">Invoice</span>
            <span t-if="o.type == 'out_invoice' and o.state == 'draft'">Draft Invoice</span>
            <span t-if="o.type == 'out_invoice' and o.state == 'cancel'">Cancelled Invoice</span>
            <span t-if="o.type == 'out_refund'">Credit Note</span>
            <span t-if="o.type == 'in_refund'">Vendor Credit Note</span>
            <span t-if="o.type == 'in_invoice'">Vendor Bill</span>
          </t>
          <span t-field="o.number"/>
        </h2>
      </xpath>
      <!-- Remove Source field from invoice -->
      <xpath expr="//div[@class='page']//div[@class='row mt32 mb32']//div[4]" position="replace">
      </xpath>
      <!-- Remove Taxes column from invoice line table header -->
      <xpath expr="//table[@name='invoice_line_table']//thead//tr//th[6]" position="replace">
        <!-- TODO: ask if we need taxes column per line on customer invoices (no-receipts) -->
        <t t-if="o.journal_xml_ref != 'account_journal_vh_receipts'">
          <th name="th_taxes" t-attf-class="text-left {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}"><span>Taxes</span></th>
        </t>
      </xpath>
      <!-- Remove Taxes column from invoice line table body -->
      <xpath expr="//table[@name='invoice_line_table']//tbody//tr[1]//td[6]" position="replace">
        <!-- TODO: ask if we need taxes column per line on customer invoices (no-receipts) -->
        <t t-if="o.journal_xml_ref != 'account_journal_vh_receipts'">
          <td t-attf-class="text-left {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
            <span t-esc="', '.join(map(lambda x: (x.tax_group_id.name), line.invoice_line_tax_ids))"/>
          </td>
        </t>
      </xpath>
      <xpath expr="//p[@t-if='o.reference']" position="replace">
      </xpath>
    </template>
  </data>
</odoo>
