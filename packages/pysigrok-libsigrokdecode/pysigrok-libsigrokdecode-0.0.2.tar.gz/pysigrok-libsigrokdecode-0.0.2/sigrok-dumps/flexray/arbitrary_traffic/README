-------------------------------------------------------------------------------
Arbitrary FlexRay bus traffic
-------------------------------------------------------------------------------

These captures are artifically generated FlexRay communication snippets and are
not capturing specific vehicle or industrial protocols.

Details:
https://en.wikipedia.org/wiki/Flexray
https://elearning.vector.com/mod/page/view.php?id=371


Logic analyzer setup
--------------------

The logic analyzer used was a Dreamsoucelab DSLogic Plus at a sample rate of
100MHz.

The hardware used for generating the communication was an Intrepid FlexRay
Evaluation Board.
FlexFray controller: Fujitsu MB88121C (Bosch E-Ray IP)
Bus Transceiver: Elmos E910.54B

Product info:
https://store.intrepidcs.com/FlexRay-EVB-p/flexray-evb.htm

The software used was Intrepid Vehicle Spy for FlexRay running under Windows 7.
The data has been generated by using software version is 3.5.0.19, neoVI DLL
version is 3.5.1.29.

The software and hardware are end of life products and are not available
anymore by the manufacturer.

The logic analyzer probes were hooked up to the RX pins of the Elmos E910.53B
logic level transceivers. Channel 0 was hooked up to FlexRay channel A and
channel 1 was hooked up to FlexRay channel B. Channel A and B of both FlexRay
controllers are connected together.

The bus was externally terminated by adding a 100 Ohm resistor between FR_A+
and FR_A- and another 100 Ohm resistor between FR_B+ and FR_B-.

Network parameters used on all dumps are as follows:

Cluster parameters:
-------------------
gColdStartAttempts = 31
gListenNoise = 15
gdMaxInitializationError = 0
gdWakeupSymbolRxIdle = 59
gdWakeupSymbolRxLow = 57
gdWakeupSymbolRxWindow = 301
gdWakeupSymbolTxIdle = 180
gdWakeupSymbolTxLow = 60
gdCycle = 2500
gMacroPerCycle = 2500
gdMacrotick = 0
gdActionPointOffset = 4
gdTSSTransmitter = 4
gdStaticSlot = 34
gNumberOfStaticSlots = 2
gPayloadLengthStatic = 8
gdMinislot = 4
gNumberOfMinislots = 545
gdMinislotActionPointOffset = 2
gdDynamicSlotIdlePhase = 1
gdNIT = 252
gOffsetCorrectionStart = 2249
gMaxWithoutClockCorrectionFatal = 15
gMaxWithoutClockCorrectionPassive = 15
gSyncNodeMax = 6
gClusterDriftDamping = 2
gNetworkManagementVectorLength = 0
gdCASRxLowMax = 71
gdSymbolWindow = ?
gAssumedPrecision = ?
gChannels = ?
gdBit = ?
gdBitMax = ?
gdBitMin = ?
gdMaxMicrotick = ?
gdMaxPropagationDelay = ?
gdMinPropagationDelay = ?
gOffsetCorrectionMax = ?

Common parameters for both FlexRay nodes:
-----------------------------------------
pClusterDriftDamping = 2
pExternOffsetCorrection = 0
pExternRateCorrection = 0
pDecodingCorrection = 28
pdListenTimeout = 80242
pdMaxDrift = 121
pLatestTx = 545
pMicroPerCycle = 100000
pOffsetCorrectionOut = 160
pRateCorrectionOut = 121
pDelayCompensationA = 0
pDelayCompensationB = 0
pWakeupPattern = 63
pAllowHaltDueToClock = 0
pAllowPassiveToActive = 15
pdAcceptedStartupRange = 77
pMacroInitialOffsetA = 5
pMacroInitialOffsetB = 5
pMicroInitialOffsetA = 12
pMicroInitialOffsetB = 12
pSingleSlotEnabled = 0
pChannels = 1
pWakeupChannel = 1
pKeySlotUsedForStartup = 1
KeySlotUsedForSync = 1
pPayloadLengthDynMax = ?
pMicroPerMacroNom = ?
pdMicrotick = ?

Specific parameters for node 1:
-------------------------------
pKeySlotId = 1

Specific parameters for node 2:
-------------------------------
pKeySlotId = 2


flexray_2s16_0d_one_cycle.sr
----------------------------

This shows one cycle of an ongoing FlexRay communication using 2 static frames.
Only channel A is used.

Bitrate: 10 Mbit
Used Channels: A
Static frames: 2
Dynamic frames: 0
Length of static frames: 16 bytes
Data on all frames is: 0x00 0x01 0x02 0x03
                       0x00 0x00 0x00 0x00
                       0x00 0x00 0x00 0x00
                       0x00 0x00 0x00 0x00


flexray_2s16_1d2_one_cycle.sr
-----------------------------

This shows one cycle of an ongoing FlexRay communication using 2 static frames
and 1 dynamic frame. Only channel A is used.

Bitrate: 10 Mbit
Used Channels: A
Static frames: 2
Dynamic frames: 1
Length of static frames: 16 bytes
Data on all static frames is: 0x00 0x01 0x02 0x03
                              0x00 0x00 0x00 0x00
                              0x00 0x00 0x00 0x00
                              0x00 0x00 0x00 0x00

Data on all dynamic frames is: 0x23 0x42


flexray_coldstart_2s16_3d_multiple_cycles.sr
--------------------------------------------

This shows a cold start sequence and a few cycles of traffic.
There are 2 static frames and 3 dynamic frames. Only channel A is used.

Bitrate: 10 Mbit
Used Channels: A
Static frames: 2
Dynamic frames: 3
Length of static frames: 16 bytes
Data on all static frames is: 0x00 0x01 0x02 0x03
                              0x00 0x00 0x00 0x00
                              0x00 0x00 0x00 0x00
                              0x00 0x00 0x00 0x00

Data on dynamic frames is:

ID  8: 0x02 0x02 0x00 0x00
       0x00 0x00 0x00 0x00
       0x00 0x00 0x00 0x00
       0x00 0x00 0x00 0x00

ID 11: 0x33 0x33 0x33 0x00
       0x00 0x00 0x00 0x00
       0x00 0x00 0x00 0x00
       0x00 0x00 0x00 0x00

ID 15: 0x04 0x04 0x04 0x04
       0x00 0x00 0x00 0x00
       0x00 0x00 0x00 0x00
       0x00 0x00 0x00 0x00


flexray_ab_2s16_0d_one_cycle.sr
-------------------------------

This shows one cycle of an ongoing FlexRay communication using 2 static frames.
Channel A and B are used and transmit the same data.

Bitrate: 10 Mbit
Used Channels: AB
Static frames: 2
Dynamic frames: 0
Length of static frames: 16 bytes
Data on frames is:

ID 1: 0x00 0x01 0x02 0x03
      0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00

ID 2: 0x07 0x06 0x05 0x04
      0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00
