<turbo-frame id="article-{{section.node_id}}">

{%- set anchor=link_renderer.render_local_anchor(section) -%}

<article class="docsection" data-controller="document">

  <section data-section="meta" class="docsection_section">

    {% include "_shared/requirement_block/anchor.jinja.html" %}

    {% with requirement=section %}
        {% include "_shared/requirement_block/h_title.jinja.html" %}
    {% endwith %}

  </section>

  {% include "_shared/requirement_block/free_text.jinja.html" %}

  {%- if config.is_running_on_server -%}
    <a href="/actions/document/edit_section/{{section.node_id}}" data-turbo-action="replace" data-turbo="true">Edit</a>,
    <a href="/actions/document/delete_section/{{section.node_id}}" data-turbo-method="delete" data-turbo="true">Delete</a>,

    <a href="/actions/document/new_section?reference_mid={{section.node_id}}&whereto=before" data-turbo-action="replace" data-turbo="true">+S⬆</a>,
    <a href="/actions/document/new_section?reference_mid={{section.node_id}}&whereto=child" data-turbo-action="replace" data-turbo="true">+S⬊</a>,
    <a href="/actions/document/new_section?reference_mid={{section.node_id}}&whereto=after" data-turbo-action="replace" data-turbo="true">+S⬇</a>,
    <a href="/actions/document/new_requirement?reference_mid={{section.node_id}}&whereto=before" data-turbo-action="replace" data-turbo="true">+R⬆</a>,
    <a href="/actions/document/new_requirement?reference_mid={{section.node_id}}&whereto=child" data-turbo-action="replace" data-turbo="true">+R⬊</a>,
    <a href="/actions/document/new_requirement?reference_mid={{section.node_id}}&whereto=after" data-turbo-action="replace" data-turbo="true">+R⬇</a>
  {%- endif -%}

</article>

</turbo-frame>
