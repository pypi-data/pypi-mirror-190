{% load base_taglib %}

<div class="id_card">
    <div class="id_card-photo">
        {% id_photo user=user_instance %}<br />
        {%if user_instance.proxy %}
        <div  style="text-align:center;color:orangered;font-weight:bold;">PROXY</div>
        {%endif%}
    </div>
    <div class="id_card-name">{{user_instance.display_name}}</div>
    <div class="id_card-text">
        {{user_instance.email_address|default:'No Email'}}<br />
        {%if user_instance.psu_id%}{{user_instance.psu_id}}{%endif%}
        {%if is_developer%}
            {%if user_instance.psu_id and user_instance.pidm%} / {%endif%}
            {%if user_instance.pidm%}{{user_instance.pidm}}{%endif%}
        {%endif%}<br />

        {%if user_instance.primary_role%}
            <span class="code" style="display:inline-block;font-size: 8pt;margin-top:10px;">
            {%if user_instance.primary_role == 'STUDENT'%}
                {%fa fa-graduation-cap%} Student
            {%elif user_instance.primary_role == 'EMPLOYEE'%}
                {%fa fa-id-card-o%} Employee
            {%else%}
                {{user_instance.primary_role|default:"No Role" }}
            {%endif%}
            </span><br />
        {%endif%}

        {%if user_instance.authorities%}
            <div style="font-size: 10pt;">
                <em>{{user_instance.authorities|join:", " }}</em>
            </div>
        {%endif%}


    </div>
    <div class="id_card-footer">
        {%if user_instance.proxy %}
            <a href="{%url 'psu:stop_proxying'%}">{%fa fa-remove%} Remove Proxy</a>
        {%endif%}
    </div>
</div>


<style>
.id_card{
    width: 300px;
    border: 1px solid #000;
    border-radius: 3px;
    text-align: left;

    display: inline-grid;
    grid-template-columns: [photo] 100px [text] 1fr;
    grid-template-rows: [name] 30px [identifiers] auto [footer] 15px;
    grid-column-gap: 15px;
    grid-row-gap: 0px;
}
.id_card-photo{
    grid-area: 1 / photo / 5 / text
}
.id_card-name {
    font-family: times, serif;
    font-weight: bold;
    font-size: 1.1em;
}
.id_card-photo .id_photo{
    margin: 5px;
    border: 1px solid #333;
}
.id_card-text{
    font-size: .9em;
}
.id_card-footer{
    margin-top: 10px;
    font-size: .8em;
    text-align: right;
    padding: 0 5px;
}
</style>