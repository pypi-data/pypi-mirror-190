{% load base_taglib %}
{% load sass_tags %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Portland State University{% endblock %}</title>
    <link rel="shortcut icon" href="{%static_content_url%}/images/favicon.ico" type="image/x-icon">
    {%jquery%}
    {%bootstrap%}
    {%font_awesome version='4'%}

    {% wdt_stylesheet 'legacy.css' %}
    {% wdt_stylesheet 'fonts.css' %}
    {% wdt_javascript "ajax.js" %}
    {% wdt_javascript 'utils.js' %}

    {# I gave up on trying to get static content to work in AWS. #}
    {# It works for local development though, and is more convenient. #}
    {%if is_development%}
        <link href="{%sass_src 'css/template.scss'%}?app={%app_code%}" rel="stylesheet" type="text/css" />
    {%else%}
        <link href="{%static_content_url%}/wdt/apps/{%app_code%}/template.css?app={%app_code%}" rel="stylesheet" type="text/css">
    {%endif%}

    {% wdt_javascript 'flash-messages.js' %}
    {% wdt_javascript 'filter-generator.js' %}

    {% block head %}{% endblock %}
    {% block scripts %}{% endblock %}
</head>
<body>
    {% include '_components/header/grid.html' %}
    {%check_feature 'downtime_messages'%}
    {%if downtime_messages_enabled%}{%downtime_messages%}{%endif%}
    {% include '_components/message_container.html' %}
    <div id="psu-main-content-block">
    {% block pagecontent %}
    <br />
    Put your content here...<br />
    <br />
    {% endblock %}
    </div>

    {% include '_components/footer.html' %}

    {# Set the color of the PSU logo #}
    {% if modify_logo %}
        <script type="text/javascript">
            {% if modify_logo_calculate %}
                if(typeof setPsuLogoColor === "function"){
                    setPsuLogoColor();
                }
            {%else%}
                $('.header-logo').find('img').css('filter', '{{modify_logo_filter}}');
            {%endif%}
        </script>
    {%endif%}

    {## Run AdminScripts if enabled ##}
    {%admin_script%}
</body>
</html>

