{% load base_taglib %}

{# The following only displays for developers #}
{% if_has_authority developer %}

    {# ToDo: Find a way to include items from supplemental plugins to this menu #}

    <div class="headermenu dropdown">
        <button class="headermenu dropbtn">
            <span class="fa fa-cog xlg dev-icon" title="Developer Menu" id="psu_developer-button"></span>
            <span style="line-height:40px;" class="menuname">Dev menu</span>&nbsp;
            <i class="fa fa-caret-down" style="line-height:40px;" title="Expand" aria-hidden="true"></i>
        </button>
        <div id="dev-menu" class="dropdown-content">
            <div class="menu-top">
                <span style="font-weight: bold;">{%app_name%}</span>
                <span onclick="window.open('{%url 'psu:versions'%}');" style="cursor:pointer;" class="float-right">
                    {%app_version%}
                </span>
            </div>

            <a class="menu-item psu_developer-item" href="{%url 'psu:test'%}">
                <span class="fa fa-medkit" aria-hidden="true"></span>
                Status Page
            </a>
            <a class="menu-item psu_developer-item" href="{%url 'psu:session'%}">
                <span class="fa fa-microchip" aria-hidden="true"></span>
                Session Contents
            </a>
            <a class="menu-item psu_developer-item" href="{%url 'psu:finti'%}">
                <span class="fa fa-laptop" aria-hidden="true"></span>
                Finti Interface
            </a>
            <a class="menu-item psu_developer-item" href="{%url 'psu:features'%}">
                <span class="fa fa-plug" aria-hidden="true"></span>
                Feature Toggles
            </a>
            <a class="menu-item psu_developer-item" href="{%url 'psu:emails'%}">
                <span class="fa fa-envelope-o" aria-hidden="true"></span>
                Email Log
            </a>
            <a class="menu-item psu_developer-item" href="{%url 'psu:email'%}">
                <span class="fa fa-paper-plane-o" aria-hidden="true"></span>
                Send Test Email
            </a>
            <a class="menu-item psu_developer-item" href="{%url 'psu:audit'%}">
                <span class="fa fa-id-card-o" aria-hidden="true"></span>
                Audit Events
            </a>
        </div>
    </div>

    <style>
        #psu_developer-button{
            margin-right: 10px;
        }
        .psu_developer-item {
            border-top: 1px dotted #6A7F10;
        }
        .psu_developer-item a{
            padding: 0 7px;
        }
        .psu_developer-item .fa {
            width: 30px;
            text-align: center;
        }
    </style>

{% end_if_has_authority %}